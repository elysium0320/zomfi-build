import{aQ as ao,aR as Ct,aS as uc,aT as N,aU as $r,aV as lc,aW as hc,aX as dc}from"./index.25dc9682.js";import{_ as b,a as S,b as le,c as fc,O as D,S as K,d as di,A as Hr,e as Ur,i as Ae,s as pc,g as Vr,h as bc,j as Te,k as be,l as co,n as Qn,o as uo,p as Qe,q as gc,r as lo,u as bt,v as Ir,w as oe,x as Ar,y as $,z as H,B as U,C as mc,D as vc,E as yc,F as Zn,U as _c,f as wc,m as ho,t as fo,G as Sc,H as Ec,I as Tr,J as xc}from"./timer.4871a679.js";import{g as kc,c as Cc,s as Mc,u as Ic}from"./util.caf7fb3f.js";function Ac(r,e){return e.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(n){if(n!=="default"&&!(n in r)){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})}),Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}function fi(){return function(e){return e.lift(new Tc(e))}}var Tc=function(){function r(e){this.connectable=e}return r.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var i=new Rc(e,n),s=t.subscribe(i);return i.closed||(i.connection=n.connect()),s},r}(),Rc=function(r){b(e,r);function e(t,n){var i=r.call(this,t)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var t=this.connectable;if(!t){this.connection=null;return}this.connectable=null;var n=t._refCount;if(n<=0){this.connection=null;return}if(t._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=t._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(S),po=function(r){b(e,r);function e(t,n){var i=r.call(this)||this;return i.source=t,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,t=this._connection=new le,t.add(this.source.subscribe(new Oc(this.getSubject(),this))),t.closed&&(this._connection=null,t=le.EMPTY)),t},e.prototype.refCount=function(){return fi()(this)},e}(D),Nc=function(){var r=po.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:r._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}}}(),Oc=function(r){b(e,r);function e(t,n){var i=r.call(this,t)||this;return i.connectable=n,i}return e.prototype._error=function(t){this._unsubscribe(),r.prototype._error.call(this,t)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var n=t._connection;t._refCount=0,t._subject=null,t._connection=null,n&&n.unsubscribe()}},e}(fc);function Lc(r,e,t,n){return function(i){return i.lift(new Dc(r,e,t,n))}}var Dc=function(){function r(e,t,n,i){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=i}return r.prototype.call=function(e,t){return t.subscribe(new Pc(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},r}(),Pc=function(r){b(e,r);function e(t,n,i,s,o){var a=r.call(this,t)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(t){var n;try{n=this.keySelector(t)}catch(i){this.error(i);return}this._group(t,n)},e.prototype._group=function(t,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),o;if(this.elementSelector)try{o=this.elementSelector(t)}catch(u){this.error(u)}else o=t;if(!s){s=this.subjectSelector?this.subjectSelector():new K,i.set(n,s);var a=new Kn(n,s,this);if(this.destination.next(a),this.durationSelector){var c=void 0;try{c=this.durationSelector(new Kn(n,s))}catch(u){this.error(u);return}this.add(c.subscribe(new jc(n,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(t){var n=this.groups;n&&(n.forEach(function(i,s){i.error(t)}),n.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(n,i){n.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&r.prototype.unsubscribe.call(this))},e}(S),jc=function(r){b(e,r);function e(t,n,i){var s=r.call(this,n)||this;return s.key=t,s.group=n,s.parent=i,s}return e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this,n=t.parent,i=t.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(S),Kn=function(r){b(e,r);function e(t,n,i){var s=r.call(this)||this;return s.key=t,s.groupSubject=n,s.refCountSubscription=i,s}return e.prototype._subscribe=function(t){var n=new le,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&n.add(new Bc(s)),n.add(o.subscribe(t)),n},e}(D),Bc=function(r){b(e,r);function e(t){var n=r.call(this)||this;return n.parent=t,t.count++,n}return e.prototype.unsubscribe=function(){var t=this.parent;!t.closed&&!this.closed&&(r.prototype.unsubscribe.call(this),t.count-=1,t.count===0&&t.attemptedToUnsubscribe&&t.unsubscribe())},e}(le),bo=function(r){b(e,r);function e(t){var n=r.call(this)||this;return n._value=t,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(t){var n=r.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new di;return this._value},e.prototype.next=function(t){r.prototype.next.call(this,this._value=t)},e}(K),Fc=function(r){b(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return e.prototype.schedule=function(t,n){return n===void 0&&(n=0),n>0?r.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},e.prototype.execute=function(t,n){return n>0||this.closed?r.prototype.execute.call(this,t,n):this._execute(t,n)},e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?r.prototype.requestAsyncId.call(this,t,n,i):t.flush(this)},e}(Hr),Wc=function(r){b(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(Ur),go=new Wc(Fc),mo=go,gt=new D(function(r){return r.complete()});function Mt(r){return r?$c(r):gt}function $c(r){return new D(function(e){return r.schedule(function(){return e.complete()})})}function zr(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r[r.length-1];return Ae(t)?(r.pop(),pc(r,t)):Vr(r)}function pi(r,e){return e?new D(function(t){return e.schedule(Hc,0,{error:r,subscriber:t})}):new D(function(t){return t.error(r)})}function Hc(r){var e=r.error,t=r.subscriber;t.error(e)}var Yn;Yn||(Yn={});var De=function(){function r(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue=e==="N"}return r.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},r.prototype.do=function(e,t,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},r.prototype.accept=function(e,t,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,t,n)},r.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return zr(this.value);case"E":return pi(this.error);case"C":return Mt()}throw new Error("unexpected notification kind value")},r.createNext=function(e){return typeof e!="undefined"?new r("N",e):r.undefinedValueNotification},r.createError=function(e){return new r("E",void 0,e)},r.createComplete=function(){return r.completeNotification},r.completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r}();function Uc(r,e){return e===void 0&&(e=0),function(n){return n.lift(new Vc(r,e))}}var Vc=function(){function r(e,t){t===void 0&&(t=0),this.scheduler=e,this.delay=t}return r.prototype.call=function(e,t){return t.subscribe(new vo(e,this.scheduler,this.delay))},r}(),vo=function(r){b(e,r);function e(t,n,i){i===void 0&&(i=0);var s=r.call(this,t)||this;return s.scheduler=n,s.delay=i,s}return e.dispatch=function(t){var n=t.notification,i=t.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(t){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new zc(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(De.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(De.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(De.createComplete()),this.unsubscribe()},e}(S),zc=function(){function r(e,t){this.notification=e,this.destination=t}return r}(),bi=function(r){b(e,r);function e(t,n,i){t===void 0&&(t=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=r.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=t<1?1:t,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}r.prototype.next.call(this,t)},e.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new qc(this._getNow(),t)),this._trimBufferThenGetEvents()),r.prototype.next.call(this,t)},e.prototype._subscribe=function(t){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new di;if(this.isStopped||this.hasError?a=le.EMPTY:(this.observers.push(t),a=new bc(this,t)),s&&t.add(t=new vo(t,s)),n)for(var c=0;c<o&&!t.closed;c++)t.next(i[c]);else for(var c=0;c<o&&!t.closed;c++)t.next(i[c].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),a},e.prototype._getNow=function(){return(this.scheduler||mo).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(t-s[a].time<i);)a++;return o>n&&(a=Math.max(a,o-n)),a>0&&s.splice(0,a),s},e}(K),qc=function(){function r(e,t){this.time=e,this.value=t}return r}(),It=function(r){b(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return e.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),le.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),le.EMPTY):r.prototype._subscribe.call(this,t)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(t){this.hasCompleted||r.prototype.error.call(this,t)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&r.prototype.next.call(this,this.value),r.prototype.complete.call(this)},e}(K),Gc=1,Qc=function(){return Promise.resolve()}(),Jn={};function Ji(r){return r in Jn?(delete Jn[r],!0):!1}var Xi={setImmediate:function(r){var e=Gc++;return Jn[e]=!0,Qc.then(function(){return Ji(e)&&r()}),e},clearImmediate:function(r){Ji(r)}},Zc=function(r){b(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0?r.prototype.requestAsyncId.call(this,t,n,i):(t.actions.push(this),t.scheduled||(t.scheduled=Xi.setImmediate(t.flush.bind(t,null))))},e.prototype.recycleAsyncId=function(t,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return r.prototype.recycleAsyncId.call(this,t,n,i);t.actions.length===0&&(Xi.clearImmediate(n),t.scheduled=void 0)},e}(Hr),Kc=function(r){b(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;t=t||n.shift();do if(i=t.execute(t.state,t.delay))break;while(++s<o&&(t=n.shift()));if(this.active=!1,i){for(;++s<o&&(t=n.shift());)t.unsubscribe();throw i}},e}(Ur),yo=new Kc(Zc),xr=yo,Yc=function(r){b(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0?r.prototype.requestAsyncId.call(this,t,n,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(function(){return t.flush(null)})))},e.prototype.recycleAsyncId=function(t,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return r.prototype.recycleAsyncId.call(this,t,n,i);t.actions.length===0&&(cancelAnimationFrame(n),t.scheduled=void 0)},e}(Hr),Jc=function(r){b(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;t=t||n.shift();do if(i=t.execute(t.state,t.delay))break;while(++s<o&&(t=n.shift()));if(this.active=!1,i){for(;++s<o&&(t=n.shift());)t.unsubscribe();throw i}},e}(Ur),_o=new Jc(Yc),Xc=_o,eu=function(r){b(e,r);function e(t,n){t===void 0&&(t=wo),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=r.call(this,t,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var t=this,n=t.actions,i=t.maxFrames,s,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=n.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(Ur),wo=function(r){b(e,r);function e(t,n,i){i===void 0&&(i=t.index+=1);var s=r.call(this,t,n)||this;return s.scheduler=t,s.work=n,s.index=i,s.active=!0,s.index=t.index=i,s}return e.prototype.schedule=function(t,n){if(n===void 0&&(n=0),!this.id)return r.prototype.schedule.call(this,t,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(t,n)},e.prototype.requestAsyncId=function(t,n,i){i===void 0&&(i=0),this.delay=t.frame+i;var s=t.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,n,i){},e.prototype._execute=function(t,n){if(this.active===!0)return r.prototype._execute.call(this,t,n)},e.sortActions=function(t,n){return t.delay===n.delay?t.index===n.index?0:t.index>n.index?1:-1:t.delay>n.delay?1:-1},e}(Hr);function xe(){}function tu(r){return!!r&&(r instanceof D||typeof r.lift=="function"&&typeof r.subscribe=="function")}var ru=function(){function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r}(),mt=ru,nu=function(){function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return r.prototype=Object.create(Error.prototype),r}(),tr=nu,iu=function(){function r(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return r.prototype=Object.create(Error.prototype),r}(),So=iu;function Eo(r,e,t){if(e)if(Ae(e))t=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Eo(r,t).apply(void 0,n).pipe(Te(function(s){return be(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:r,scheduler:t};return new D(function(c){if(t){var l={args:n,subscriber:c,params:a};return t.schedule(su,0,l)}else{if(!o){o=new It;var u=function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];o.next(d.length<=1?d[0]:d),o.complete()};try{r.apply(s,n.concat([u]))}catch(d){co(o)?o.error(d):console.warn(d)}}return o.subscribe(c)}})}}function su(r){var e=this,t=r.args,n=r.subscriber,i=r.params,s=i.callbackFunc,o=i.context,a=i.scheduler,c=i.subject;if(!c){c=i.subject=new It;var u=function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var h=l.length<=1?l[0]:l;e.add(a.schedule(ou,0,{value:h,subject:c}))};try{s.apply(o,t.concat([u]))}catch(l){c.error(l)}}this.add(c.subscribe(n))}function ou(r){var e=r.value,t=r.subject;t.next(e),t.complete()}function xo(r,e,t){if(e)if(Ae(e))t=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return xo(r,t).apply(void 0,n).pipe(Te(function(s){return be(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:r,scheduler:t,context:this};return new D(function(o){var a=s.context,c=s.subject;if(t)return t.schedule(au,0,{params:s,subscriber:o,context:a});if(!c){c=s.subject=new It;var u=function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var h=l.shift();if(h){c.error(h);return}c.next(l.length<=1?l[0]:l),c.complete()};try{r.apply(a,n.concat([u]))}catch(l){co(c)?c.error(l):console.warn(l)}}return c.subscribe(o)})}}function au(r){var e=this,t=r.params,n=r.subscriber,i=r.context,s=t.callbackFunc,o=t.args,a=t.scheduler,c=t.subject;if(!c){c=t.subject=new It;var u=function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var h=l.shift();if(h)e.add(a.schedule(es,0,{err:h,subject:c}));else{var f=l.length<=1?l[0]:l;e.add(a.schedule(cu,0,{value:f,subject:c}))}};try{s.apply(i,o.concat([u]))}catch(l){this.add(a.schedule(es,0,{err:l,subject:c}))}}this.add(c.subscribe(n))}function cu(r){var e=r.value,t=r.subject;t.next(e),t.complete()}function es(r){var e=r.err,t=r.subject;t.error(e)}var ot=function(r){b(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.notifyNext=function(t,n,i,s,o){this.destination.next(n)},e.prototype.notifyError=function(t,n){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(S),uu=function(r){b(e,r);function e(t,n,i){var s=r.call(this)||this;return s.parent=t,s.outerValue=n,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(S);function Pe(r,e,t,n,i){if(i===void 0&&(i=new uu(r,t,n)),!i.closed)return e instanceof D?e.subscribe(i):Qn(e)(i)}var ts={};function lu(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=void 0,n=void 0;return Ae(r[r.length-1])&&(n=r.pop()),typeof r[r.length-1]=="function"&&(t=r.pop()),r.length===1&&be(r[0])&&(r=r[0]),Vr(r,n).lift(new gi(t))}var gi=function(){function r(e){this.resultSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new hu(e,this.resultSelector))},r}(),hu=function(r){b(e,r);function e(t,n){var i=r.call(this,t)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(t){this.values.push(ts),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,n=t.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=t[i];this.add(Pe(this,s,void 0,i))}}},e.prototype.notifyComplete=function(t){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(t,n,i){var s=this.values,o=s[i],a=this.toRespond?o===ts?--this.toRespond:this.toRespond:0;s[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(t){var n;try{n=this.resultSelector.apply(this,t)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(ot);function ko(){return uo(1)}function Kt(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return ko()(zr.apply(void 0,r))}function mi(r){return new D(function(e){var t;try{t=r()}catch(i){e.error(i);return}var n=t?Qe(t):Mt();return n.subscribe(e)})}function du(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r.length===1){var t=r[0];if(be(t))return fr(t,null);if(gc(t)&&Object.getPrototypeOf(t)===Object.prototype){var n=Object.keys(t);return fr(n.map(function(s){return t[s]}),n)}}if(typeof r[r.length-1]=="function"){var i=r.pop();return r=r.length===1&&be(r[0])?r[0]:r,fr(r,null).pipe(Te(function(s){return i.apply(void 0,s)}))}return fr(r,null)}function fr(r,e){return new D(function(t){var n=r.length;if(n===0){t.complete();return}for(var i=new Array(n),s=0,o=0,a=function(u){var l=Qe(r[u]),d=!1;t.add(l.subscribe({next:function(h){d||(d=!0,o++),i[u]=h},error:function(h){return t.error(h)},complete:function(){s++,(s===n||!d)&&(o===n&&t.next(e?e.reduce(function(h,f,p){return h[f]=i[p],h},{}):i),t.complete())}}))},c=0;c<n;c++)a(c)})}function Co(r,e,t){return t?Co(r,e).pipe(Te(function(n){return be(n)?t.apply(void 0,n):t(n)})):new D(function(n){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return n.next(o.length===1?o[0]:o)},s;try{s=r(i)}catch(o){n.error(o);return}if(!!lo(e))return function(){return e(i,s)}})}function fu(r,e,t,n,i){var s,o;if(arguments.length==1){var a=r;o=a.initialState,e=a.condition,t=a.iterate,s=a.resultSelector||bt,i=a.scheduler}else n===void 0||Ae(n)?(o=r,s=bt,i=n):(o=r,s=n);return new D(function(c){var u=o;if(i)return i.schedule(pu,0,{subscriber:c,iterate:t,condition:e,resultSelector:s,state:u});do{if(e){var l=void 0;try{l=e(u)}catch(h){c.error(h);return}if(!l){c.complete();break}}var d=void 0;try{d=s(u)}catch(h){c.error(h);return}if(c.next(d),c.closed)break;try{u=t(u)}catch(h){c.error(h);return}}while(!0)})}function pu(r){var e=r.subscriber,t=r.condition;if(!e.closed){if(r.needIterate)try{r.state=r.iterate(r.state)}catch(s){e.error(s);return}else r.needIterate=!0;if(t){var n=void 0;try{n=t(r.state)}catch(s){e.error(s);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=r.resultSelector(r.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(r)}}function bu(r,e,t){return e===void 0&&(e=gt),t===void 0&&(t=gt),mi(function(){return r()?e:t})}function gu(r,e){return r===void 0&&(r=0),e===void 0&&(e=oe),(!Ir(r)||r<0)&&(r=0),(!e||typeof e.schedule!="function")&&(e=oe),new D(function(t){return t.add(e.schedule(mu,r,{subscriber:t,counter:0,period:r})),t})}function mu(r){var e=r.subscriber,t=r.counter,n=r.period;e.next(t),this.schedule({subscriber:e,counter:t+1,period:n},n)}var Mo=new D(xe);function vu(){return Mo}function Xn(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r.length===0)return gt;var t=r[0],n=r.slice(1);return r.length===1&&be(t)?Xn.apply(void 0,t):new D(function(i){var s=function(){return i.add(Xn.apply(void 0,n).subscribe(i))};return Qe(t).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function yu(r,e){return e?new D(function(t){var n=Object.keys(r),i=new le;return i.add(e.schedule(_u,0,{keys:n,index:0,subscriber:t,subscription:i,obj:r})),i}):new D(function(t){for(var n=Object.keys(r),i=0;i<n.length&&!t.closed;i++){var s=n[i];r.hasOwnProperty(s)&&t.next([s,r[s]])}t.complete()})}function _u(r){var e=r.keys,t=r.index,n=r.subscriber,i=r.subscription,s=r.obj;if(!n.closed)if(t<e.length){var o=e[t];n.next([o,s[o]]),i.add(this.schedule({keys:e,index:t+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function Io(r,e){function t(){return!t.pred.apply(t.thisArg,arguments)}return t.pred=r,t.thisArg=e,t}function ze(r,e){return function(n){return n.lift(new wu(r,e))}}var wu=function(){function r(e,t){this.predicate=e,this.thisArg=t}return r.prototype.call=function(e,t){return t.subscribe(new Su(e,this.predicate,this.thisArg))},r}(),Su=function(r){b(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return e.prototype._next=function(t){var n;try{n=this.predicate.call(this.thisArg,t,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(t)},e}(S);function Eu(r,e,t){return[ze(e,t)(new D(Qn(r))),ze(Io(e,t))(new D(Qn(r)))]}function Ao(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r.length===1)if(be(r[0]))r=r[0];else return r[0];return Vr(r,void 0).lift(new xu)}var xu=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new ku(e))},r}(),ku=function(r){b(e,r);function e(t){var n=r.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,n=t.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=t[i],o=Pe(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(t,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},e}(ot);function Cu(r,e,t){return r===void 0&&(r=0),new D(function(n){e===void 0&&(e=r,r=0);var i=0,s=r;if(t)return t.schedule(Mu,0,{index:i,count:e,start:r,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function Mu(r){var e=r.start,t=r.index,n=r.count,i=r.subscriber;if(t>=n){i.complete();return}i.next(e),!i.closed&&(r.index=t+1,r.start=e+1,this.schedule(r))}function Iu(r,e){return new D(function(t){var n;try{n=r()}catch(a){t.error(a);return}var i;try{i=e(n)}catch(a){t.error(a);return}var s=i?Qe(i):gt,o=s.subscribe(t);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function To(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r[r.length-1];return typeof t=="function"&&r.pop(),Vr(r,void 0).lift(new Ro(t))}var Ro=function(){function r(e){this.resultSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new Au(e,this.resultSelector))},r}(),Au=function(r){b(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return e.prototype._next=function(t){var n=this.iterators;be(t)?n.push(new Ru(t)):typeof t[Ar]=="function"?n.push(new Tu(t[Ar]())):n.push(new Nu(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,n=t.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=t[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,n=t.length,i=this.destination,s=0;s<n;s++){var o=t[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,c=[],s=0;s<n;s++){var o=t[s],u=o.next();if(o.hasCompleted()&&(a=!0),u.done){i.complete();return}c.push(u.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),a&&i.complete()},e.prototype._tryresultSelector=function(t){var n;try{n=this.resultSelector.apply(this,t)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(S),Tu=function(){function r(e){this.iterator=e,this.nextResult=e.next()}return r.prototype.hasValue=function(){return!0},r.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},r.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},r}(),Ru=function(){function r(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return r.prototype[Ar]=function(){return this},r.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},r.prototype.hasValue=function(){return this.array.length>this.index},r.prototype.hasCompleted=function(){return this.array.length===this.index},r}(),Nu=function(r){b(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[Ar]=function(){return this},e.prototype.next=function(){var t=this.buffer;return t.length===0&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t){this.buffer.push(t),this.parent.checkIterators()},e.prototype.subscribe=function(){return $(this.observable,new H(this))},e}(U),Ou=Object.freeze(Object.defineProperty({__proto__:null,Observable:D,ConnectableObservable:po,GroupedObservable:Kn,observable:mc,Subject:K,BehaviorSubject:bo,ReplaySubject:bi,AsyncSubject:It,asap:xr,asapScheduler:yo,async:oe,asyncScheduler:vc,queue:mo,queueScheduler:go,animationFrame:Xc,animationFrameScheduler:_o,VirtualTimeScheduler:eu,VirtualAction:wo,Scheduler:yc,Subscription:le,Subscriber:S,Notification:De,get NotificationKind(){return Yn},pipe:Zn,noop:xe,identity:bt,isObservable:tu,ArgumentOutOfRangeError:mt,EmptyError:tr,ObjectUnsubscribedError:di,UnsubscriptionError:_c,TimeoutError:So,bindCallback:Eo,bindNodeCallback:xo,combineLatest:lu,concat:Kt,defer:mi,empty:Mt,forkJoin:du,from:Qe,fromEvent:wc,fromEventPattern:Co,generate:fu,iif:bu,interval:gu,merge:ho,never:vu,of:zr,onErrorResumeNext:Xn,pairs:yu,partition:Eu,race:Ao,range:Cu,throwError:pi,timer:fo,using:Iu,zip:To,scheduled:Sc,EMPTY:gt,NEVER:Mo,config:Ec},Symbol.toStringTag,{value:"Module"})),vi={},Yt={},qr={};Object.defineProperty(qr,"__esModule",{value:!0});qr.walletLogo=void 0;const Lu=(r,e)=>{let t;switch(r){case"standard":return t=e,`data:image/svg+xml,%3Csvg width='${e}' height='${t}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return t=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${t}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return t=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${t}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return t=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${t}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return t=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${t}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return t=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${t}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return t=e,`data:image/svg+xml,%3Csvg width='${e}' height='${t}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};qr.walletLogo=Lu;var Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});Gr.ScopedLocalStorage=void 0;class Du{constructor(e){this.scope=e}setItem(e,t){localStorage.setItem(this.scopedKey(e),t)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),t=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&t.push(i)}t.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}Gr.ScopedLocalStorage=Du;var vt={},At={};Object.defineProperty(At,"__esModule",{value:!0});const Pu=ao.exports;function rs(r,e,t){try{Reflect.apply(r,e,t)}catch(n){setTimeout(()=>{throw n})}}function ju(r){const e=r.length,t=new Array(e);for(let n=0;n<e;n+=1)t[n]=r[n];return t}class Bu extends Pu.EventEmitter{emit(e,...t){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(t.length>0&&([o]=t),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")rs(s,this,t);else{const o=s.length,a=ju(s);for(let c=0;c<o;c+=1)rs(a[c],this,t)}return!0}}At.default=Bu;var rr={},qe={},Fu=Jt;Jt.default=Jt;Jt.stable=Lo;Jt.stableStringify=Lo;var Rr="[...]",No="[Circular]",nt=[],tt=[];function Oo(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Jt(r,e,t,n){typeof n=="undefined"&&(n=Oo()),ei(r,"",0,[],void 0,0,n);var i;try{tt.length===0?i=JSON.stringify(r,e,t):i=JSON.stringify(r,Do(e),t)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;nt.length!==0;){var s=nt.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function dt(r,e,t,n){var i=Object.getOwnPropertyDescriptor(n,t);i.get!==void 0?i.configurable?(Object.defineProperty(n,t,{value:r}),nt.push([n,t,e,i])):tt.push([e,t,r]):(n[t]=r,nt.push([n,t,e]))}function ei(r,e,t,n,i,s,o){s+=1;var a;if(typeof r=="object"&&r!==null){for(a=0;a<n.length;a++)if(n[a]===r){dt(No,r,e,i);return}if(typeof o.depthLimit!="undefined"&&s>o.depthLimit){dt(Rr,r,e,i);return}if(typeof o.edgesLimit!="undefined"&&t+1>o.edgesLimit){dt(Rr,r,e,i);return}if(n.push(r),Array.isArray(r))for(a=0;a<r.length;a++)ei(r[a],a,a,n,r,s,o);else{var c=Object.keys(r);for(a=0;a<c.length;a++){var u=c[a];ei(r[u],u,a,n,r,s,o)}}n.pop()}}function Wu(r,e){return r<e?-1:r>e?1:0}function Lo(r,e,t,n){typeof n=="undefined"&&(n=Oo());var i=ti(r,"",0,[],void 0,0,n)||r,s;try{tt.length===0?s=JSON.stringify(i,e,t):s=JSON.stringify(i,Do(e),t)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;nt.length!==0;){var o=nt.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function ti(r,e,t,n,i,s,o){s+=1;var a;if(typeof r=="object"&&r!==null){for(a=0;a<n.length;a++)if(n[a]===r){dt(No,r,e,i);return}try{if(typeof r.toJSON=="function")return}catch{return}if(typeof o.depthLimit!="undefined"&&s>o.depthLimit){dt(Rr,r,e,i);return}if(typeof o.edgesLimit!="undefined"&&t+1>o.edgesLimit){dt(Rr,r,e,i);return}if(n.push(r),Array.isArray(r))for(a=0;a<r.length;a++)ti(r[a],a,a,n,r,s,o);else{var c={},u=Object.keys(r).sort(Wu);for(a=0;a<u.length;a++){var l=u[a];ti(r[l],l,a,n,r,s,o),c[l]=r[l]}if(typeof i!="undefined")nt.push([i,e,r]),i[e]=c;else return c}n.pop()}}function Do(r){return r=typeof r!="undefined"?r:function(e,t){return t},function(e,t){if(tt.length>0)for(var n=0;n<tt.length;n++){var i=tt[n];if(i[1]===e&&i[0]===t){t=i[2],tt.splice(n,1);break}}return r.call(this,e,t)}}Object.defineProperty(qe,"__esModule",{value:!0});qe.EthereumProviderError=qe.EthereumRpcError=void 0;const $u=Fu;class Po extends Error{constructor(e,t,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||typeof t!="string")throw new Error('"message" must be a nonempty string.');super(t),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return $u.default(this.serialize(),Vu,2)}}qe.EthereumRpcError=Po;class Hu extends Po{constructor(e,t,n){if(!Uu(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,n)}}qe.EthereumProviderError=Hu;function Uu(r){return Number.isInteger(r)&&r>=1e3&&r<=4999}function Vu(r,e){if(e!=="[Circular]")return e}var yi={},Ge={};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.errorValues=Ge.errorCodes=void 0;Ge.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Ge.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.serializeError=r.isValidCode=r.getMessageFromCode=r.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Ge,t=qe,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};r.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(h,f=i){if(Number.isInteger(h)){const p=h.toString();if(d(e.errorValues,p))return e.errorValues[p].message;if(u(h))return r.JSON_RPC_SERVER_ERROR_MESSAGE}return f}r.getMessageFromCode=o;function a(h){if(!Number.isInteger(h))return!1;const f=h.toString();return!!(e.errorValues[f]||u(h))}r.isValidCode=a;function c(h,{fallbackError:f=s,shouldIncludeStack:p=!1}={}){var w,v;if(!f||!Number.isInteger(f.code)||typeof f.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(h instanceof t.EthereumRpcError)return h.serialize();const g={};if(h&&typeof h=="object"&&!Array.isArray(h)&&d(h,"code")&&a(h.code)){const m=h;g.code=m.code,m.message&&typeof m.message=="string"?(g.message=m.message,d(m,"data")&&(g.data=m.data)):(g.message=o(g.code),g.data={originalError:l(h)})}else{g.code=f.code;const m=(w=h)===null||w===void 0?void 0:w.message;g.message=m&&typeof m=="string"?m:f.message,g.data={originalError:l(h)}}const y=(v=h)===null||v===void 0?void 0:v.stack;return p&&h&&y&&typeof y=="string"&&(g.stack=y),g}r.serializeError=c;function u(h){return h>=-32099&&h<=-32e3}function l(h){return h&&typeof h=="object"&&!Array.isArray(h)?Object.assign({},h):h}function d(h,f){return Object.prototype.hasOwnProperty.call(h,f)}})(yi);var Qr={};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.ethErrors=void 0;const _i=qe,jo=yi,Y=Ge;Qr.ethErrors={rpc:{parse:r=>he(Y.errorCodes.rpc.parse,r),invalidRequest:r=>he(Y.errorCodes.rpc.invalidRequest,r),invalidParams:r=>he(Y.errorCodes.rpc.invalidParams,r),methodNotFound:r=>he(Y.errorCodes.rpc.methodNotFound,r),internal:r=>he(Y.errorCodes.rpc.internal,r),server:r=>{if(!r||typeof r!="object"||Array.isArray(r))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=r;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return he(e,r)},invalidInput:r=>he(Y.errorCodes.rpc.invalidInput,r),resourceNotFound:r=>he(Y.errorCodes.rpc.resourceNotFound,r),resourceUnavailable:r=>he(Y.errorCodes.rpc.resourceUnavailable,r),transactionRejected:r=>he(Y.errorCodes.rpc.transactionRejected,r),methodNotSupported:r=>he(Y.errorCodes.rpc.methodNotSupported,r),limitExceeded:r=>he(Y.errorCodes.rpc.limitExceeded,r)},provider:{userRejectedRequest:r=>Pt(Y.errorCodes.provider.userRejectedRequest,r),unauthorized:r=>Pt(Y.errorCodes.provider.unauthorized,r),unsupportedMethod:r=>Pt(Y.errorCodes.provider.unsupportedMethod,r),disconnected:r=>Pt(Y.errorCodes.provider.disconnected,r),chainDisconnected:r=>Pt(Y.errorCodes.provider.chainDisconnected,r),custom:r=>{if(!r||typeof r!="object"||Array.isArray(r))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:t,data:n}=r;if(!t||typeof t!="string")throw new Error('"message" must be a nonempty string');return new _i.EthereumProviderError(e,t,n)}}};function he(r,e){const[t,n]=Bo(e);return new _i.EthereumRpcError(r,t||jo.getMessageFromCode(r),n)}function Pt(r,e){const[t,n]=Bo(e);return new _i.EthereumProviderError(r,t||jo.getMessageFromCode(r),n)}function Bo(r){if(r){if(typeof r=="string")return[r];if(typeof r=="object"&&!Array.isArray(r)){const{message:e,data:t}=r;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,t]}}return[]}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.getMessageFromCode=r.serializeError=r.EthereumProviderError=r.EthereumRpcError=r.ethErrors=r.errorCodes=void 0;const e=qe;Object.defineProperty(r,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(r,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const t=yi;Object.defineProperty(r,"serializeError",{enumerable:!0,get:function(){return t.serializeError}}),Object.defineProperty(r,"getMessageFromCode",{enumerable:!0,get:function(){return t.getMessageFromCode}});const n=Qr;Object.defineProperty(r,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Ge;Object.defineProperty(r,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(rr);var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.EVENTS=void 0;Tt.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var Rt={},Nt=Ct(Ou);function Fo(r){return function(t){return t.lift(new zu(r))}}var zu=function(){function r(e){this.durationSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new qu(e,this.durationSelector))},r}(),qu=function(r){b(e,r);function e(t,n){var i=r.call(this,t)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(t)}catch(o){return this.destination.error(o)}var s=$(n,new H(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var t=this,n=t.value,i=t.hasValue,s=t.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(U);function Gu(r,e){return e===void 0&&(e=oe),Fo(function(){return fo(r,e)})}function Qu(r){return function(t){return t.lift(new Zu(r))}}var Zu=function(){function r(e){this.closingNotifier=e}return r.prototype.call=function(e,t){return t.subscribe(new Ku(e,this.closingNotifier))},r}(),Ku=function(r){b(e,r);function e(t,n){var i=r.call(this,t)||this;return i.buffer=[],i.add($(n,new H(i))),i}return e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(){var t=this.buffer;this.buffer=[],this.destination.next(t)},e}(U);function Yu(r,e){return e===void 0&&(e=null),function(n){return n.lift(new Ju(r,e))}}var Ju=function(){function r(e,t){this.bufferSize=e,this.startBufferEvery=t,!t||e===t?this.subscriberClass=Xu:this.subscriberClass=el}return r.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},r}(),Xu=function(r){b(e,r);function e(t,n){var i=r.call(this,t)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(t){var n=this.buffer;n.push(t),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),r.prototype._complete.call(this)},e}(S),el=function(r){b(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(t){var n=this,i=n.bufferSize,s=n.startBufferEvery,o=n.buffers,a=n.count;this.count++,a%s===0&&o.push([]);for(var c=o.length;c--;){var u=o[c];u.push(t),u.length===i&&(o.splice(c,1),this.destination.next(u))}},e.prototype._complete=function(){for(var t=this,n=t.buffers,i=t.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}r.prototype._complete.call(this)},e}(S);function tl(r){var e=arguments.length,t=oe;Ae(arguments[arguments.length-1])&&(t=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new rl(r,n,i,t))}}var rl=function(){function r(e,t,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=n,this.scheduler=i}return r.prototype.call=function(e,t){return t.subscribe(new il(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},r}(),nl=function(){function r(){this.buffer=[]}return r}(),il=function(r){b(e,r);function e(t,n,i,s,o){var a=r.call(this,t)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var c=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var u={subscriber:a,context:c,bufferTimeSpan:n};a.add(c.closeAction=o.schedule(ns,n,u))}else{var l={subscriber:a,context:c},d={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(c.closeAction=o.schedule(Wo,n,l)),a.add(o.schedule(sl,i,d))}return a}return e.prototype._next=function(t){for(var n=this.contexts,i=n.length,s,o=0;o<i;o++){var a=n[o],c=a.buffer;c.push(t),c.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},e.prototype._error=function(t){this.contexts.length=0,r.prototype._error.call(this,t)},e.prototype._complete=function(){for(var t=this,n=t.contexts,i=t.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var n=t.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){t=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:t,bufferTimeSpan:i};this.add(t.closeAction=this.scheduler.schedule(ns,i,s))}},e.prototype.openContext=function(){var t=new nl;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var n=this.contexts,i=n?n.indexOf(t):-1;i>=0&&n.splice(n.indexOf(t),1)},e}(S);function ns(r){var e=r.subscriber,t=r.context;t&&e.closeContext(t),e.closed||(r.context=e.openContext(),r.context.closeAction=this.schedule(r,r.bufferTimeSpan))}function sl(r){var e=r.bufferCreationInterval,t=r.bufferTimeSpan,n=r.subscriber,i=r.scheduler,s=n.openContext(),o=this;n.closed||(n.add(s.closeAction=i.schedule(Wo,t,{subscriber:n,context:s})),o.schedule(r,e))}function Wo(r){var e=r.subscriber,t=r.context;e.closeContext(t)}function ol(r,e){return function(n){return n.lift(new al(r,e))}}var al=function(){function r(e,t){this.openings=e,this.closingSelector=t}return r.prototype.call=function(e,t){return t.subscribe(new cl(e,this.openings,this.closingSelector))},r}(),cl=function(r){b(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.closingSelector=i,s.contexts=[],s.add(Pe(s,n)),s}return e.prototype._next=function(t){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(t)},e.prototype._error=function(t){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,r.prototype._error.call(this,t)},e.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var n=t.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,r.prototype._complete.call(this)},e.prototype.notifyNext=function(t,n){t?this.closeBuffer(t):this.openBuffer(n)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var n=this.closingSelector,i=n.call(this,t);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(t){var n=this.contexts;if(n&&t){var i=t.buffer,s=t.subscription;this.destination.next(i),n.splice(n.indexOf(t),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(t){var n=this.contexts,i=[],s=new le,o={buffer:i,subscription:s};n.push(o);var a=Pe(this,t,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},e}(ot);function ul(r){return function(e){return e.lift(new ll(r))}}var ll=function(){function r(e){this.closingSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new hl(e,this.closingSelector))},r}(),hl=function(r){b(e,r);function e(t,n){var i=r.call(this,t)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}t=new le,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add($(i,new H(this))),this.subscribing=!1},e}(U);function dl(r){return function(t){var n=new fl(r),i=t.lift(n);return n.caught=i}}var fl=function(){function r(e){this.selector=e}return r.prototype.call=function(e,t){return t.subscribe(new pl(e,this.selector,this.caught))},r}(),pl=function(r){b(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.selector=n,s.caught=i,s}return e.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(o){r.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new H(this);this.add(i);var s=$(n,i);s!==i&&this.add(s)}},e}(U);function bl(r){return function(e){return e.lift(new gi(r))}}function gl(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=null;return typeof r[r.length-1]=="function"&&(t=r.pop()),r.length===1&&be(r[0])&&(r=r[0].slice()),function(n){return n.lift.call(Qe([n].concat(r)),new gi(t))}}function ml(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){return t.lift.call(Kt.apply(void 0,[t].concat(r)))}}function $o(r,e){return Tr(r,e,1)}function vl(r,e){return $o(function(){return r},e)}function yl(r){return function(e){return e.lift(new _l(r,e))}}var _l=function(){function r(e,t){this.predicate=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new wl(e,this.predicate,this.source))},r}(),wl=function(r){b(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var n;try{n=this.predicate(t,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(S);function Sl(r){return function(e){return e.lift(new El(r))}}var El=function(){function r(e){this.durationSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new xl(e,this.durationSelector))},r}(),xl=function(r){b(e,r);function e(t,n){var i=r.call(this,t)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(t){try{var n=this.durationSelector.call(this,t);n&&this._tryNext(t,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,n){var i=this.durationSubscription;this.value=t,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=$(n,new H(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var t=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,r.prototype._next.call(this,t)}},e}(U);function kl(r,e){return e===void 0&&(e=oe),function(t){return t.lift(new Cl(r,e))}}var Cl=function(){function r(e,t){this.dueTime=e,this.scheduler=t}return r.prototype.call=function(e,t){return t.subscribe(new Ml(e,this.dueTime,this.scheduler))},r}(),Ml=function(r){b(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Il,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;t!==null&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(S);function Il(r){r.debouncedNext()}function nr(r){return r===void 0&&(r=null),function(e){return e.lift(new Al(r))}}var Al=function(){function r(e){this.defaultValue=e}return r.prototype.call=function(e,t){return t.subscribe(new Tl(e,this.defaultValue))},r}(),Tl=function(r){b(e,r);function e(t,n){var i=r.call(this,t)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(S);function Ho(r){return r instanceof Date&&!isNaN(+r)}function Rl(r,e){e===void 0&&(e=oe);var t=Ho(r),n=t?+r-e.now():Math.abs(r);return function(i){return i.lift(new Nl(n,e))}}var Nl=function(){function r(e,t){this.delay=e,this.scheduler=t}return r.prototype.call=function(e,t){return t.subscribe(new Ol(e,this.delay,this.scheduler))},r}(),Ol=function(r){b(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(t){for(var n=t.source,i=n.queue,s=t.scheduler,o=t.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(t,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(t){this.active=!0;var n=this.destination;n.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(this.errored!==!0){var n=this.scheduler,i=new Ll(n.now()+this.delay,t);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(t){this.scheduleNotification(De.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(De.createComplete()),this.unsubscribe()},e}(S),Ll=function(){function r(e,t){this.time=e,this.notification=t}return r}();function Dl(r,e){return e?function(t){return new jl(t,e).lift(new is(r))}:function(t){return t.lift(new is(r))}}var is=function(){function r(e){this.delayDurationSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new Pl(e,this.delayDurationSelector))},r}(),Pl=function(r){b(e,r);function e(t,n){var i=r.call(this,t)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(t,n,i,s,o){this.destination.next(t),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(t,n){this._error(t)},e.prototype.notifyComplete=function(t){var n=this.removeSubscription(t);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(t){var n=this.index++;try{var i=this.delayDurationSelector(t,n);i&&this.tryDelay(i,t)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(t){t.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(t);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),t.outerValue},e.prototype.tryDelay=function(t,n){var i=Pe(this,t,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(ot),jl=function(r){b(e,r);function e(t,n){var i=r.call(this)||this;return i.source=t,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new Bl(t,this.source))},e}(D),Bl=function(r){b(e,r);function e(t,n){var i=r.call(this)||this;return i.parent=t,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(S);function Fl(){return function(e){return e.lift(new Wl)}}var Wl=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new $l(e))},r}(),$l=function(r){b(e,r);function e(t){return r.call(this,t)||this}return e.prototype._next=function(t){t.observe(this.destination)},e}(S);function Hl(r,e){return function(t){return t.lift(new Ul(r,e))}}var Ul=function(){function r(e,t){this.keySelector=e,this.flushes=t}return r.prototype.call=function(e,t){return t.subscribe(new Vl(e,this.keySelector,this.flushes))},r}(),Vl=function(r){b(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.keySelector=n,s.values=new Set,i&&s.add($(i,new H(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(t){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var n,i=this.destination;try{n=this.keySelector(t)}catch(s){i.error(s);return}this._finalizeNext(n,t)},e.prototype._finalizeNext=function(t,n){var i=this.values;i.has(t)||(i.add(t),this.destination.next(n))},e}(U);function Uo(r,e){return function(t){return t.lift(new zl(r,e))}}var zl=function(){function r(e,t){this.compare=e,this.keySelector=t}return r.prototype.call=function(e,t){return t.subscribe(new ql(e,this.compare,this.keySelector))},r}(),ql=function(r){b(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return e.prototype.compare=function(t,n){return t===n},e.prototype._next=function(t){var n;try{var i=this.keySelector;n=i?i(t):t}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(t))},e}(S);function Gl(r,e){return Uo(function(t,n){return e?e(t[r],n[r]):t[r]===n[r]})}function Zr(r){return r===void 0&&(r=Kl),function(e){return e.lift(new Ql(r))}}var Ql=function(){function r(e){this.errorFactory=e}return r.prototype.call=function(e,t){return t.subscribe(new Zl(e,this.errorFactory))},r}(),Zl=function(r){b(e,r);function e(t,n){var i=r.call(this,t)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(n){t=n}this.destination.error(t)},e}(S);function Kl(){return new tr}function wi(r){return function(e){return r===0?Mt():e.lift(new Yl(r))}}var Yl=function(){function r(e){if(this.total=e,this.total<0)throw new mt}return r.prototype.call=function(e,t){return t.subscribe(new Jl(e,this.total))},r}(),Jl=function(r){b(e,r);function e(t,n){var i=r.call(this,t)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(t){var n=this.total,i=++this.count;i<=n&&(this.destination.next(t),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(S);function Xl(r,e){if(r<0)throw new mt;var t=arguments.length>=2;return function(n){return n.pipe(ze(function(i,s){return s===r}),wi(1),t?nr(e):Zr(function(){return new mt}))}}function eh(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){return Kt(t,zr.apply(void 0,r))}}function th(r,e){return function(t){return t.lift(new rh(r,e,t))}}var rh=function(){function r(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return r.prototype.call=function(e,t){return t.subscribe(new nh(e,this.predicate,this.thisArg,this.source))},r}(),nh=function(r){b(e,r);function e(t,n,i,s){var o=r.call(this,t)||this;return o.predicate=n,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var n=!1;try{n=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(S);function ih(){return function(r){return r.lift(new sh)}}var sh=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new oh(e))},r}(),oh=function(r){b(e,r);function e(t){var n=r.call(this,t)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add($(t,new H(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(U);function Vo(r,e){return e?function(t){return t.pipe(Vo(function(n,i){return Qe(r(n,i)).pipe(Te(function(s,o){return e(n,s,i,o)}))}))}:function(t){return t.lift(new ah(r))}}var ah=function(){function r(e){this.project=e}return r.prototype.call=function(e,t){return t.subscribe(new ch(e,this.project))},r}(),ch=function(r){b(e,r);function e(t,n){var i=r.call(this,t)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var n,i=this.index++;try{n=this.project(t,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(t){var n=new H(this),i=this.destination;i.add(n);var s=$(t,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(U);function uh(r,e,t){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new lh(r,e,t))}}var lh=function(){function r(e,t,n){this.project=e,this.concurrent=t,this.scheduler=n}return r.prototype.call=function(e,t){return t.subscribe(new hh(e,this.project,this.concurrent,this.scheduler))},r}(),hh=function(r){b(e,r);function e(t,n,i,s){var o=r.call(this,t)||this;return o.project=n,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(t){var n=t.subscriber,i=t.result,s=t.value,o=t.index;n.subscribeToProjection(i,s,o)},e.prototype._next=function(t){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(t);try{var s=this.project,o=s(t,i);if(!this.scheduler)this.subscribeToProjection(o,t,i);else{var a={subscriber:this,result:o,value:t,index:i},c=this.destination;c.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(u){n.error(u)}}else this.buffer.push(t)},e.prototype.subscribeToProjection=function(t,n,i){this.active++;var s=this.destination;s.add($(t,new H(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this._next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(U);function dh(r){return function(e){return e.lift(new fh(r))}}var fh=function(){function r(e){this.callback=e}return r.prototype.call=function(e,t){return t.subscribe(new ph(e,this.callback))},r}(),ph=function(r){b(e,r);function e(t,n){var i=r.call(this,t)||this;return i.add(new le(n)),i}return e}(S);function bh(r,e){if(typeof r!="function")throw new TypeError("predicate is not a function");return function(t){return t.lift(new zo(r,t,!1,e))}}var zo=function(){function r(e,t,n,i){this.predicate=e,this.source=t,this.yieldIndex=n,this.thisArg=i}return r.prototype.call=function(e,t){return t.subscribe(new gh(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},r}(),gh=function(r){b(e,r);function e(t,n,i,s,o){var a=r.call(this,t)||this;return a.predicate=n,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return e.prototype.notifyComplete=function(t){var n=this.destination;n.next(t),n.complete(),this.unsubscribe()},e.prototype._next=function(t){var n=this,i=n.predicate,s=n.thisArg,o=this.index++;try{var a=i.call(s||this,t,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:t)}catch(c){this.destination.error(c)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(S);function mh(r,e){return function(t){return t.lift(new zo(r,t,!0,e))}}function vh(r,e){var t=arguments.length>=2;return function(n){return n.pipe(r?ze(function(i,s){return r(i,s,n)}):bt,wi(1),t?nr(e):Zr(function(){return new tr}))}}function yh(){return function(e){return e.lift(new _h)}}var _h=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new wh(e))},r}(),wh=function(r){b(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype._next=function(t){},e}(S);function Sh(){return function(r){return r.lift(new Eh)}}var Eh=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new xh(e))},r}(),xh=function(r){b(e,r);function e(t){return r.call(this,t)||this}return e.prototype.notifyComplete=function(t){var n=this.destination;n.next(t),n.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(S);function Nr(r){return function(t){return r===0?Mt():t.lift(new kh(r))}}var kh=function(){function r(e){if(this.total=e,this.total<0)throw new mt}return r.prototype.call=function(e,t){return t.subscribe(new Ch(e,this.total))},r}(),Ch=function(r){b(e,r);function e(t,n){var i=r.call(this,t)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(t){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(t);else{var o=s%i;n[o]=t}},e.prototype._complete=function(){var t=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=n++%i;t.next(s[a])}t.complete()},e}(S);function Mh(r,e){var t=arguments.length>=2;return function(n){return n.pipe(r?ze(function(i,s){return r(i,s,n)}):bt,Nr(1),t?nr(e):Zr(function(){return new tr}))}}function Ih(r){return function(e){return e.lift(new Ah(r))}}var Ah=function(){function r(e){this.value=e}return r.prototype.call=function(e,t){return t.subscribe(new Th(e,this.value))},r}(),Th=function(r){b(e,r);function e(t,n){var i=r.call(this,t)||this;return i.value=n,i}return e.prototype._next=function(t){this.destination.next(this.value)},e}(S);function Rh(){return function(e){return e.lift(new Nh)}}var Nh=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new Oh(e))},r}(),Oh=function(r){b(e,r);function e(t){return r.call(this,t)||this}return e.prototype._next=function(t){this.destination.next(De.createNext(t))},e.prototype._error=function(t){var n=this.destination;n.next(De.createError(t)),n.complete()},e.prototype._complete=function(){var t=this.destination;t.next(De.createComplete()),t.complete()},e}(S);function Or(r,e){var t=!1;return arguments.length>=2&&(t=!0),function(i){return i.lift(new Lh(r,e,t))}}var Lh=function(){function r(e,t,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return r.prototype.call=function(e,t){return t.subscribe(new Dh(e,this.accumulator,this.seed,this.hasSeed))},r}(),Dh=function(r){b(e,r);function e(t,n,i,s){var o=r.call(this,t)||this;return o.accumulator=n,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(!this.hasSeed)this.seed=t,this.destination.next(t);else return this._tryNext(t)},e.prototype._tryNext=function(t){var n=this.index++,i;try{i=this.accumulator(this.seed,t,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(S);function Kr(r,e){return arguments.length>=2?function(n){return Zn(Or(r,e),Nr(1),nr(e))(n)}:function(n){return Zn(Or(function(i,s,o){return r(i,s,o+1)}),Nr(1))(n)}}function Ph(r){var e=typeof r=="function"?function(t,n){return r(t,n)>0?t:n}:function(t,n){return t>n?t:n};return Kr(e)}function jh(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){return t.lift.call(ho.apply(void 0,[t].concat(r)))}}function Bh(r,e,t){return t===void 0&&(t=Number.POSITIVE_INFINITY),typeof e=="function"?Tr(function(){return r},e,t):(typeof e=="number"&&(t=e),Tr(function(){return r},t))}function Fh(r,e,t){return t===void 0&&(t=Number.POSITIVE_INFINITY),function(n){return n.lift(new Wh(r,e,t))}}var Wh=function(){function r(e,t,n){this.accumulator=e,this.seed=t,this.concurrent=n}return r.prototype.call=function(e,t){return t.subscribe(new $h(e,this.accumulator,this.seed,this.concurrent))},r}(),$h=function(r){b(e,r);function e(t,n,i,s){var o=r.call(this,t)||this;return o.accumulator=n,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(t){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,t,n)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(t)},e.prototype._innerSub=function(t){var n=new H(this),i=this.destination;i.add(n);var s=$(t,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(t){var n=this.destination;this.acc=t,this.hasValue=!0,n.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(U);function Hh(r){var e=typeof r=="function"?function(t,n){return r(t,n)<0?t:n}:function(t,n){return t<n?t:n};return Kr(e)}function it(r,e){return function(n){var i;if(typeof r=="function"?i=r:i=function(){return r},typeof e=="function")return n.lift(new Uh(i,e));var s=Object.create(n,Nc);return s.source=n,s.subjectFactory=i,s}}var Uh=function(){function r(e,t){this.subjectFactory=e,this.selector=t}return r.prototype.call=function(e,t){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(e);return s.add(t.subscribe(i)),s},r}();function Vh(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r.length===1&&be(r[0])&&(r=r[0]),function(t){return t.lift(new zh(r))}}var zh=function(){function r(e){this.nextSources=e}return r.prototype.call=function(e,t){return t.subscribe(new qh(e,this.nextSources))},r}(),qh=function(r){b(e,r);function e(t,n){var i=r.call(this,t)||this;return i.destination=t,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();if(t){var n=new H(this),i=this.destination;i.add(n);var s=$(t,n);s!==n&&i.add(s)}else this.destination.complete()},e}(U);function Gh(){return function(r){return r.lift(new Qh)}}var Qh=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new Zh(e))},r}(),Zh=function(r){b(e,r);function e(t){var n=r.call(this,t)||this;return n.hasPrev=!1,n}return e.prototype._next=function(t){var n;this.hasPrev?n=[this.prev,t]:this.hasPrev=!0,this.prev=t,n&&this.destination.next(n)},e}(S);function Kh(r,e){return function(t){return[ze(r,e)(t),ze(Io(r,e))(t)]}}function Yh(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r.length;if(t===0)throw new Error("list of properties cannot be empty.");return function(n){return Te(Jh(r,t))(n)}}function Jh(r,e){var t=function(n){for(var i=n,s=0;s<e;s++){var o=i!=null?i[r[s]]:void 0;if(o!==void 0)i=o;else return}return i};return t}function Xh(r){return r?it(function(){return new K},r):it(new K)}function ed(r){return function(e){return it(new bo(r))(e)}}function td(){return function(r){return it(new It)(r)}}function rd(r,e,t,n){t&&typeof t!="function"&&(n=t);var i=typeof t=="function"?t:void 0,s=new bi(r,e,n);return function(o){return it(function(){return s},i)(o)}}function nd(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(n){return r.length===1&&be(r[0])&&(r=r[0]),n.lift.call(Ao.apply(void 0,[n].concat(r)))}}function id(r){return r===void 0&&(r=-1),function(e){return r===0?Mt():r<0?e.lift(new ss(-1,e)):e.lift(new ss(r-1,e))}}var ss=function(){function r(e,t){this.count=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new sd(e,this.count,this.source))},r}(),sd=function(r){b(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.count=n,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var t=this,n=t.source,i=t.count;if(i===0)return r.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(S);function od(r){return function(e){return e.lift(new ad(r))}}var ad=function(){function r(e){this.notifier=e}return r.prototype.call=function(e,t){return t.subscribe(new cd(e,this.notifier,t))},r}(),cd=function(r){b(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return r.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return r.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var t=this,n=t.notifications,i=t.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,r.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},e.prototype.subscribeToRetries=function(){this.notifications=new K;var t;try{var n=this.notifier;t=n(this.notifications)}catch{return r.prototype.complete.call(this)}this.retries=t,this.retriesSubscription=$(t,new H(this))},e}(U);function ud(r){return r===void 0&&(r=-1),function(e){return e.lift(new ld(r,e))}}var ld=function(){function r(e,t){this.count=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new hd(e,this.count,this.source))},r}(),hd=function(r){b(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.count=n,s.source=i,s}return e.prototype.error=function(t){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return r.prototype.error.call(this,t);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(S);function dd(r){return function(e){return e.lift(new fd(r,e))}}var fd=function(){function r(e,t){this.notifier=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new pd(e,this.notifier,this.source))},r}(),pd=function(r){b(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.notifier=n,s.source=i,s}return e.prototype.error=function(t){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new K;try{var o=this.notifier;i=o(n)}catch(a){return r.prototype.error.call(this,a)}s=$(i,new H(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(t)}},e.prototype._unsubscribe=function(){var t=this,n=t.errors,i=t.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var t=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)},e}(U);function bd(r){return function(e){return e.lift(new gd(r))}}var gd=function(){function r(e){this.notifier=e}return r.prototype.call=function(e,t){var n=new md(e),i=t.subscribe(n);return i.add($(this.notifier,new H(n))),i},r}(),md=function(r){b(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.hasValue=!1,t}return e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(U);function vd(r,e){return e===void 0&&(e=oe),function(t){return t.lift(new yd(r,e))}}var yd=function(){function r(e,t){this.period=e,this.scheduler=t}return r.prototype.call=function(e,t){return t.subscribe(new _d(e,this.period,this.scheduler))},r}(),_d=function(r){b(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(wd,n,{subscriber:s,period:n})),s}return e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(S);function wd(r){var e=r.subscriber,t=r.period;e.notifyNext(),this.schedule(r,t)}function Sd(r,e){return function(t){return t.lift(new Ed(r,e))}}var Ed=function(){function r(e,t){this.compareTo=e,this.comparator=t}return r.prototype.call=function(e,t){return t.subscribe(new xd(e,this.compareTo,this.comparator))},r}(),xd=function(r){b(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new kd(t,s))),s}return e.prototype._next=function(t){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var t=this,n=t._a,i=t._b,s=t.comparator;n.length>0&&i.length>0;){var o=n.shift(),a=i.shift(),c=!1;try{c=s?s(o,a):o===a}catch(u){this.destination.error(u)}c||this.emit(!1)}},e.prototype.emit=function(t){var n=this.destination;n.next(t),n.complete()},e.prototype.nextB=function(t){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(t),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(S),kd=function(r){b(e,r);function e(t,n){var i=r.call(this,t)||this;return i.parent=n,i}return e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(S);function Cd(){return new K}function Md(){return function(r){return fi()(it(Cd)(r))}}function Id(r,e,t){var n;return r&&typeof r=="object"?n=r:n={bufferSize:r,windowTime:e,refCount:!1,scheduler:t},function(i){return i.lift(Ad(n))}}function Ad(r){var e=r.bufferSize,t=e===void 0?Number.POSITIVE_INFINITY:e,n=r.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=r.refCount,o=r.scheduler,a,c=0,u,l=!1,d=!1;return function(f){c++;var p;!a||l?(l=!1,a=new bi(t,i,o),p=a.subscribe(this),u=f.subscribe({next:function(w){a.next(w)},error:function(w){l=!0,a.error(w)},complete:function(){d=!0,u=void 0,a.complete()}}),d&&(u=void 0)):p=a.subscribe(this),this.add(function(){c--,p.unsubscribe(),p=void 0,u&&!d&&s&&c===0&&(u.unsubscribe(),u=void 0,a=void 0)})}}function Td(r){return function(e){return e.lift(new Rd(r,e))}}var Rd=function(){function r(e,t){this.predicate=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new Nd(e,this.predicate,this.source))},r}(),Nd=function(r){b(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var n=this.index++;this.predicate?this.tryNext(t,n):this.applySingleValue(t)},e.prototype.tryNext=function(t,n){try{this.predicate(t,n,this.source)&&this.applySingleValue(t)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new tr)},e}(S);function Od(r){return function(e){return e.lift(new Ld(r))}}var Ld=function(){function r(e){this.total=e}return r.prototype.call=function(e,t){return t.subscribe(new Dd(e,this.total))},r}(),Dd=function(r){b(e,r);function e(t,n){var i=r.call(this,t)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(S);function Pd(r){return function(e){return e.lift(new jd(r))}}var jd=function(){function r(e){if(this._skipCount=e,this._skipCount<0)throw new mt}return r.prototype.call=function(e,t){return this._skipCount===0?t.subscribe(new S(e)):t.subscribe(new Bd(e,this._skipCount))},r}(),Bd=function(r){b(e,r);function e(t,n){var i=r.call(this,t)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(t){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=t;else{var s=i%n,o=this._ring,a=o[s];o[s]=t,this.destination.next(a)}},e}(S);function Fd(r){return function(e){return e.lift(new Wd(r))}}var Wd=function(){function r(e){this.notifier=e}return r.prototype.call=function(e,t){return t.subscribe(new $d(e,this.notifier))},r}(),$d=function(r){b(e,r);function e(t,n){var i=r.call(this,t)||this;i.hasValue=!1;var s=new H(i);i.add(s),i.innerSubscription=s;var o=$(n,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(t){this.hasValue&&r.prototype._next.call(this,t)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(U);function Hd(r){return function(e){return e.lift(new Ud(r))}}var Ud=function(){function r(e){this.predicate=e}return r.prototype.call=function(e,t){return t.subscribe(new Vd(e,this.predicate))},r}(),Vd=function(r){b(e,r);function e(t,n){var i=r.call(this,t)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(t){var n=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||n.next(t)},e.prototype.tryCallPredicate=function(t){try{var n=this.predicate(t,this.index++);this.skipping=Boolean(n)}catch(i){this.destination.error(i)}},e}(S);function zd(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r[r.length-1];return Ae(t)?(r.pop(),function(n){return Kt(r,n,t)}):function(n){return Kt(r,n)}}var qd=function(r){b(e,r);function e(t,n,i){n===void 0&&(n=0),i===void 0&&(i=xr);var s=r.call(this)||this;return s.source=t,s.delayTime=n,s.scheduler=i,(!Ir(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=xr),s}return e.create=function(t,n,i){return n===void 0&&(n=0),i===void 0&&(i=xr),new e(t,n,i)},e.dispatch=function(t){var n=t.source,i=t.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(t){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,n,{source:i,subscriber:t})},e}(D);function Gd(r,e){return e===void 0&&(e=0),function(n){return n.lift(new Qd(r,e))}}var Qd=function(){function r(e,t){this.scheduler=e,this.delay=t}return r.prototype.call=function(e,t){return new qd(t,this.delay,this.scheduler).subscribe(e)},r}();function Xt(r,e){return typeof e=="function"?function(t){return t.pipe(Xt(function(n,i){return Qe(r(n,i)).pipe(Te(function(s,o){return e(n,s,i,o)}))}))}:function(t){return t.lift(new Zd(r))}}var Zd=function(){function r(e){this.project=e}return r.prototype.call=function(e,t){return t.subscribe(new Kd(e,this.project))},r}(),Kd=function(r){b(e,r);function e(t,n){var i=r.call(this,t)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(t){var n,i=this.index++;try{n=this.project(t,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},e.prototype._innerSub=function(t){var n=this.innerSubscription;n&&n.unsubscribe();var i=new H(this),s=this.destination;s.add(i),this.innerSubscription=$(t,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var t=this.innerSubscription;(!t||t.closed)&&r.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&r.prototype._complete.call(this)},e.prototype.notifyNext=function(t){this.destination.next(t)},e}(U);function Yd(){return Xt(bt)}function Jd(r,e){return e?Xt(function(){return r},e):Xt(function(){return r})}function Xd(r){return function(e){return e.lift(new ef(r))}}var ef=function(){function r(e){this.notifier=e}return r.prototype.call=function(e,t){var n=new tf(e),i=$(this.notifier,new H(n));return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n},r}(),tf=function(r){b(e,r);function e(t){var n=r.call(this,t)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(U);function rf(r,e){return e===void 0&&(e=!1),function(t){return t.lift(new nf(r,e))}}var nf=function(){function r(e,t){this.predicate=e,this.inclusive=t}return r.prototype.call=function(e,t){return t.subscribe(new sf(e,this.predicate,this.inclusive))},r}(),sf=function(r){b(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return e.prototype._next=function(t){var n=this.destination,i;try{i=this.predicate(t,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(t,i)},e.prototype.nextOrComplete=function(t,n){var i=this.destination;Boolean(n)?i.next(t):(this.inclusive&&i.next(t),i.complete())},e}(S);function of(r,e,t){return function(i){return i.lift(new af(r,e,t))}}var af=function(){function r(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return r.prototype.call=function(e,t){return t.subscribe(new cf(e,this.nextOrObserver,this.error,this.complete))},r}(),cf=function(r){b(e,r);function e(t,n,i,s){var o=r.call(this,t)||this;return o._tapNext=xe,o._tapError=xe,o._tapComplete=xe,o._tapError=i||xe,o._tapComplete=s||xe,lo(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||xe,o._tapError=n.error||xe,o._tapComplete=n.complete||xe),o}return e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(n){this.destination.error(n);return}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(n){this.destination.error(n);return}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){this.destination.error(t);return}return this.destination.complete()},e}(S),qo={leading:!0,trailing:!1};function uf(r,e){return e===void 0&&(e=qo),function(t){return t.lift(new lf(r,!!e.leading,!!e.trailing))}}var lf=function(){function r(e,t,n){this.durationSelector=e,this.leading=t,this.trailing=n}return r.prototype.call=function(e,t){return t.subscribe(new hf(e,this.durationSelector,this.leading,this.trailing))},r}(),hf=function(r){b(e,r);function e(t,n,i,s){var o=r.call(this,t)||this;return o.destination=t,o.durationSelector=n,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))},e.prototype.send=function(){var t=this,n=t._hasValue,i=t._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(t){var n=this.tryDurationSelector(t);n&&this.add(this._throttled=$(n,new H(this)))},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var t=this,n=t._throttled,i=t._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(U);function df(r,e,t){return e===void 0&&(e=oe),t===void 0&&(t=qo),function(n){return n.lift(new ff(r,e,t.leading,t.trailing))}}var ff=function(){function r(e,t,n,i){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=i}return r.prototype.call=function(e,t){return t.subscribe(new pf(e,this.duration,this.scheduler,this.leading,this.trailing))},r}(),pf=function(r){b(e,r);function e(t,n,i,s,o){var a=r.call(this,t)||this;return a.duration=n,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(bf,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(S);function bf(r){var e=r.subscriber;e.clearThrottle()}function gf(r){return r===void 0&&(r=oe),function(e){return mi(function(){return e.pipe(Or(function(t,n){var i=t.current;return{value:n,current:r.now(),last:i}},{current:r.now(),value:void 0,last:void 0}),Te(function(t){var n=t.current,i=t.last,s=t.value;return new mf(s,n-i)}))})}}var mf=function(){function r(e,t){this.value=e,this.interval=t}return r}();function Go(r,e,t){return t===void 0&&(t=oe),function(n){var i=Ho(r),s=i?+r-t.now():Math.abs(r);return n.lift(new vf(s,i,e,t))}}var vf=function(){function r(e,t,n,i){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=i}return r.prototype.call=function(e,t){return t.subscribe(new yf(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},r}(),yf=function(r){b(e,r);function e(t,n,i,s,o){var a=r.call(this,t)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return e.dispatchTimeout=function(t){var n=t.withObservable;t._unsubscribeAndRecycle(),t.add($(n,new H(t)))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),r.prototype._next.call(this,t)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(U);function _f(r,e){return e===void 0&&(e=oe),Go(r,pi(new So),e)}function wf(r){return r===void 0&&(r=oe),Te(function(e){return new Sf(e,r.now())})}var Sf=function(){function r(e,t){this.value=e,this.timestamp=t}return r}();function Ef(r,e,t){return t===0?[e]:(r.push(e),r)}function xf(){return Kr(Ef,[])}function kf(r){return function(t){return t.lift(new Cf(r))}}var Cf=function(){function r(e){this.windowBoundaries=e}return r.prototype.call=function(e,t){var n=new Mf(e),i=t.subscribe(n);return i.closed||n.add($(this.windowBoundaries,new H(n))),i},r}(),Mf=function(r){b(e,r);function e(t){var n=r.call(this,t)||this;return n.window=new K,t.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(t){this._error(t)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var n=this.destination,i=this.window=new K;n.next(i)},e}(U);function If(r,e){return e===void 0&&(e=0),function(n){return n.lift(new Af(r,e))}}var Af=function(){function r(e,t){this.windowSize=e,this.startWindowEvery=t}return r.prototype.call=function(e,t){return t.subscribe(new Tf(e,this.windowSize,this.startWindowEvery))},r}(),Tf=function(r){b(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.destination=t,s.windowSize=n,s.startWindowEvery=i,s.windows=[new K],s.count=0,t.next(s.windows[0]),s}return e.prototype._next=function(t){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,c=0;c<a&&!this.closed;c++)o[c].next(t);var u=this.count-s+1;if(u>=0&&u%n===0&&!this.closed&&o.shift().complete(),++this.count%n===0&&!this.closed){var l=new K;o.push(l),i.next(l)}},e.prototype._error=function(t){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(S);function Rf(r){var e=oe,t=null,n=Number.POSITIVE_INFINITY;return Ae(arguments[3])&&(e=arguments[3]),Ae(arguments[2])?e=arguments[2]:Ir(arguments[2])&&(n=Number(arguments[2])),Ae(arguments[1])?e=arguments[1]:Ir(arguments[1])&&(t=Number(arguments[1])),function(s){return s.lift(new Nf(r,t,n,e))}}var Nf=function(){function r(e,t,n,i){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=n,this.scheduler=i}return r.prototype.call=function(e,t){return t.subscribe(new Lf(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},r}(),Of=function(r){b(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}return e.prototype.next=function(t){this._numberOfNextedValues++,r.prototype.next.call(this,t)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(K),Lf=function(r){b(e,r);function e(t,n,i,s,o){var a=r.call(this,t)||this;a.destination=t,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var c=a.openWindow();if(i!==null&&i>=0){var u={subscriber:a,window:c,context:null},l={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(Qo,n,u)),a.add(o.schedule(Pf,i,l))}else{var d={subscriber:a,window:c,windowTimeSpan:n};a.add(o.schedule(Df,n,d))}return a}return e.prototype._next=function(t){for(var n=this.windows,i=n.length,s=0;s<i;s++){var o=n[s];o.closed||(o.next(t),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(t){for(var n=this.windows;n.length>0;)n.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var n=t.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new Of;this.windows.push(t);var n=this.destination;return n.next(t),t},e.prototype.closeWindow=function(t){t.complete();var n=this.windows;n.splice(n.indexOf(t),1)},e}(S);function Df(r){var e=r.subscriber,t=r.windowTimeSpan,n=r.window;n&&e.closeWindow(n),r.window=e.openWindow(),this.schedule(r,t)}function Pf(r){var e=r.windowTimeSpan,t=r.subscriber,n=r.scheduler,i=r.windowCreationInterval,s=t.openWindow(),o=this,a={action:o,subscription:null},c={subscriber:t,window:s,context:a};a.subscription=n.schedule(Qo,e,c),o.add(a.subscription),o.schedule(r,i)}function Qo(r){var e=r.subscriber,t=r.window,n=r.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(t)}function jf(r,e){return function(t){return t.lift(new Bf(r,e))}}var Bf=function(){function r(e,t){this.openings=e,this.closingSelector=t}return r.prototype.call=function(e,t){return t.subscribe(new Ff(e,this.openings,this.closingSelector))},r}(),Ff=function(r){b(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=Pe(s,n,n)),s}return e.prototype._next=function(t){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(t)},e.prototype._error=function(t){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var o=n[s];o.window.error(t),o.subscription.unsubscribe()}r.prototype._error.call(this,t)},e.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,i=-1;++i<n;){var s=t[i];s.window.complete(),s.subscription.unsubscribe()}r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,i=-1;++i<n;){var s=t[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,n,i,s,o){if(t===this.openings){var a=void 0;try{var c=this.closingSelector;a=c(n)}catch(f){return this.error(f)}var u=new K,l=new le,d={window:u,subscription:l};this.contexts.push(d);var h=Pe(this,a,d);h.closed?this.closeWindow(this.contexts.length-1):(h.context=d,l.add(h)),this.destination.next(u)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(t!==-1){var n=this.contexts,i=n[t],s=i.window,o=i.subscription;n.splice(t,1),s.complete(),o.unsubscribe()}},e}(ot);function Wf(r){return function(t){return t.lift(new $f(r))}}var $f=function(){function r(e){this.closingSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new Hf(e,this.closingSelector))},r}(),Hf=function(r){b(e,r);function e(t,n){var i=r.call(this,t)||this;return i.destination=t,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(t,n,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(t){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){t===void 0&&(t=null),t&&(this.remove(t),t.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new K;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=Pe(this,s))},e}(ot);function Uf(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){var n;typeof r[r.length-1]=="function"&&(n=r.pop());var i=r;return t.lift(new Vf(i,n))}}var Vf=function(){function r(e,t){this.observables=e,this.project=t}return r.prototype.call=function(e,t){return t.subscribe(new zf(e,this.observables,this.project))},r}(),zf=function(r){b(e,r);function e(t,n,i){var s=r.call(this,t)||this;s.observables=n,s.project=i,s.toRespond=[];var o=n.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var c=n[a];s.add(Pe(s,c,void 0,a))}return s}return e.prototype.notifyNext=function(t,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(this.toRespond.length===0){var n=[t].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(t){var n;try{n=this.project.apply(this,t)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(ot);function qf(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(n){return n.lift.call(To.apply(void 0,[n].concat(r)))}}function Gf(r){return function(e){return e.lift(new Ro(r))}}var Qf=Object.freeze(Object.defineProperty({__proto__:null,audit:Fo,auditTime:Gu,buffer:Qu,bufferCount:Yu,bufferTime:tl,bufferToggle:ol,bufferWhen:ul,catchError:dl,combineAll:bl,combineLatest:gl,concat:ml,concatAll:ko,concatMap:$o,concatMapTo:vl,count:yl,debounce:Sl,debounceTime:kl,defaultIfEmpty:nr,delay:Rl,delayWhen:Dl,dematerialize:Fl,distinct:Hl,distinctUntilChanged:Uo,distinctUntilKeyChanged:Gl,elementAt:Xl,endWith:eh,every:th,exhaust:ih,exhaustMap:Vo,expand:uh,filter:ze,finalize:dh,find:bh,findIndex:mh,first:vh,groupBy:Lc,ignoreElements:yh,isEmpty:Sh,last:Mh,map:Te,mapTo:Ih,materialize:Rh,max:Ph,merge:jh,mergeAll:uo,mergeMap:Tr,flatMap:xc,mergeMapTo:Bh,mergeScan:Fh,min:Hh,multicast:it,observeOn:Uc,onErrorResumeNext:Vh,pairwise:Gh,partition:Kh,pluck:Yh,publish:Xh,publishBehavior:ed,publishLast:td,publishReplay:rd,race:nd,reduce:Kr,repeat:id,repeatWhen:od,retry:ud,retryWhen:dd,refCount:fi,sample:bd,sampleTime:vd,scan:Or,sequenceEqual:Sd,share:Md,shareReplay:Id,single:Td,skip:Od,skipLast:Pd,skipUntil:Fd,skipWhile:Hd,startWith:zd,subscribeOn:Gd,switchAll:Yd,switchMap:Xt,switchMapTo:Jd,take:wi,takeLast:Nr,takeUntil:Xd,takeWhile:rf,tap:of,throttle:uf,throttleTime:df,throwIfEmpty:Zr,timeInterval:gf,timeout:_f,timeoutWith:Go,timestamp:wf,toArray:xf,window:kf,windowCount:If,windowTime:Rf,windowToggle:jf,windowWhen:Wf,withLatestFrom:Uf,zip:qf,zipAll:Gf},Symbol.toStringTag,{value:"Module"})),Yr=Ct(Qf),_={},Si=typeof Map=="function"&&Map.prototype,Cn=Object.getOwnPropertyDescriptor&&Si?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Lr=Si&&Cn&&typeof Cn.get=="function"?Cn.get:null,Zf=Si&&Map.prototype.forEach,Ei=typeof Set=="function"&&Set.prototype,Mn=Object.getOwnPropertyDescriptor&&Ei?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Dr=Ei&&Mn&&typeof Mn.get=="function"?Mn.get:null,Kf=Ei&&Set.prototype.forEach,Yf=typeof WeakMap=="function"&&WeakMap.prototype,Ht=Yf?WeakMap.prototype.has:null,Jf=typeof WeakSet=="function"&&WeakSet.prototype,Ut=Jf?WeakSet.prototype.has:null,Xf=typeof WeakRef=="function"&&WeakRef.prototype,os=Xf?WeakRef.prototype.deref:null,ep=Boolean.prototype.valueOf,tp=Object.prototype.toString,rp=Function.prototype.toString,np=String.prototype.match,xi=String.prototype.slice,Ue=String.prototype.replace,ip=String.prototype.toUpperCase,as=String.prototype.toLowerCase,Zo=RegExp.prototype.test,cs=Array.prototype.concat,Ce=Array.prototype.join,sp=Array.prototype.slice,us=Math.floor,ri=typeof BigInt=="function"?BigInt.prototype.valueOf:null,In=Object.getOwnPropertySymbols,ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,yt=typeof Symbol=="function"&&typeof Symbol.iterator=="object",X=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===yt?"object":"symbol")?Symbol.toStringTag:null,Ko=Object.prototype.propertyIsEnumerable,ls=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(r){return r.__proto__}:null);function hs(r,e){if(r===1/0||r===-1/0||r!==r||r&&r>-1e3&&r<1e3||Zo.call(/e/,e))return e;var t=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof r=="number"){var n=r<0?-us(-r):us(r);if(n!==r){var i=String(n),s=xi.call(e,i.length+1);return Ue.call(i,t,"$&_")+"."+Ue.call(Ue.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ue.call(e,t,"$&_")}var ii=uc,ds=ii.custom,fs=Jo(ds)?ds:null,op=function r(e,t,n,i){var s=t||{};if($e(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if($e(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=$e(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if($e(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if($e(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e=="undefined")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return ea(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?hs(e,c):c}if(typeof e=="bigint"){var u=String(e)+"n";return a?hs(e,u):u}var l=typeof s.depth=="undefined"?5:s.depth;if(typeof n=="undefined"&&(n=0),n>=l&&l>0&&typeof e=="object")return si(e)?"[Array]":"[Object]";var d=xp(s,n);if(typeof i=="undefined")i=[];else if(Xo(i,e)>=0)return"[Circular]";function h(ae,ge,me){if(ge&&(i=sp.call(i),i.push(ge)),me){var Ke={depth:s.depth};return $e(s,"quoteStyle")&&(Ke.quoteStyle=s.quoteStyle),r(ae,Ke,n+1,i)}return r(ae,s,n+1,i)}if(typeof e=="function"&&!ps(e)){var f=bp(e),p=pr(e,h);return"[Function"+(f?": "+f:" (anonymous)")+"]"+(p.length>0?" { "+Ce.call(p,", ")+" }":"")}if(Jo(e)){var w=yt?Ue.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):ni.call(e);return typeof e=="object"&&!yt?jt(w):w}if(wp(e)){for(var v="<"+as.call(String(e.nodeName)),g=e.attributes||[],y=0;y<g.length;y++)v+=" "+g[y].name+"="+Yo(ap(g[y].value),"double",s);return v+=">",e.childNodes&&e.childNodes.length&&(v+="..."),v+="</"+as.call(String(e.nodeName))+">",v}if(si(e)){if(e.length===0)return"[]";var m=pr(e,h);return d&&!Ep(m)?"["+oi(m,d)+"]":"[ "+Ce.call(m,", ")+" ]"}if(up(e)){var A=pr(e,h);return!("cause"in Error.prototype)&&"cause"in e&&!Ko.call(e,"cause")?"{ ["+String(e)+"] "+Ce.call(cs.call("[cause]: "+h(e.cause),A),", ")+" }":A.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Ce.call(A,", ")+" }"}if(typeof e=="object"&&o){if(fs&&typeof e[fs]=="function"&&ii)return ii(e,{depth:l-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(gp(e)){var O=[];return Zf.call(e,function(ae,ge){O.push(h(ge,e,!0)+" => "+h(ae,e))}),bs("Map",Lr.call(e),O,d)}if(yp(e)){var T=[];return Kf.call(e,function(ae){T.push(h(ae,e))}),bs("Set",Dr.call(e),T,d)}if(mp(e))return An("WeakMap");if(_p(e))return An("WeakSet");if(vp(e))return An("WeakRef");if(hp(e))return jt(h(Number(e)));if(fp(e))return jt(h(ri.call(e)));if(dp(e))return jt(ep.call(e));if(lp(e))return jt(h(String(e)));if(!cp(e)&&!ps(e)){var L=pr(e,h),Be=ls?ls(e)===Object.prototype:e instanceof Object||e.constructor===Object,ee=e instanceof Object?"":"null prototype",se=!Be&&X&&Object(e)===e&&X in e?xi.call(Ze(e),8,-1):ee?"Object":"",te=Be||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",F=te+(se||ee?"["+Ce.call(cs.call([],se||[],ee||[]),": ")+"] ":"");return L.length===0?F+"{}":d?F+"{"+oi(L,d)+"}":F+"{ "+Ce.call(L,", ")+" }"}return String(e)};function Yo(r,e,t){var n=(t.quoteStyle||e)==="double"?'"':"'";return n+r+n}function ap(r){return Ue.call(String(r),/"/g,"&quot;")}function si(r){return Ze(r)==="[object Array]"&&(!X||!(typeof r=="object"&&X in r))}function cp(r){return Ze(r)==="[object Date]"&&(!X||!(typeof r=="object"&&X in r))}function ps(r){return Ze(r)==="[object RegExp]"&&(!X||!(typeof r=="object"&&X in r))}function up(r){return Ze(r)==="[object Error]"&&(!X||!(typeof r=="object"&&X in r))}function lp(r){return Ze(r)==="[object String]"&&(!X||!(typeof r=="object"&&X in r))}function hp(r){return Ze(r)==="[object Number]"&&(!X||!(typeof r=="object"&&X in r))}function dp(r){return Ze(r)==="[object Boolean]"&&(!X||!(typeof r=="object"&&X in r))}function Jo(r){if(yt)return r&&typeof r=="object"&&r instanceof Symbol;if(typeof r=="symbol")return!0;if(!r||typeof r!="object"||!ni)return!1;try{return ni.call(r),!0}catch{}return!1}function fp(r){if(!r||typeof r!="object"||!ri)return!1;try{return ri.call(r),!0}catch{}return!1}var pp=Object.prototype.hasOwnProperty||function(r){return r in this};function $e(r,e){return pp.call(r,e)}function Ze(r){return tp.call(r)}function bp(r){if(r.name)return r.name;var e=np.call(rp.call(r),/^function\s*([\w$]+)/);return e?e[1]:null}function Xo(r,e){if(r.indexOf)return r.indexOf(e);for(var t=0,n=r.length;t<n;t++)if(r[t]===e)return t;return-1}function gp(r){if(!Lr||!r||typeof r!="object")return!1;try{Lr.call(r);try{Dr.call(r)}catch{return!0}return r instanceof Map}catch{}return!1}function mp(r){if(!Ht||!r||typeof r!="object")return!1;try{Ht.call(r,Ht);try{Ut.call(r,Ut)}catch{return!0}return r instanceof WeakMap}catch{}return!1}function vp(r){if(!os||!r||typeof r!="object")return!1;try{return os.call(r),!0}catch{}return!1}function yp(r){if(!Dr||!r||typeof r!="object")return!1;try{Dr.call(r);try{Lr.call(r)}catch{return!0}return r instanceof Set}catch{}return!1}function _p(r){if(!Ut||!r||typeof r!="object")return!1;try{Ut.call(r,Ut);try{Ht.call(r,Ht)}catch{return!0}return r instanceof WeakSet}catch{}return!1}function wp(r){return!r||typeof r!="object"?!1:typeof HTMLElement!="undefined"&&r instanceof HTMLElement?!0:typeof r.nodeName=="string"&&typeof r.getAttribute=="function"}function ea(r,e){if(r.length>e.maxStringLength){var t=r.length-e.maxStringLength,n="... "+t+" more character"+(t>1?"s":"");return ea(xi.call(r,0,e.maxStringLength),e)+n}var i=Ue.call(Ue.call(r,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Sp);return Yo(i,"single",e)}function Sp(r){var e=r.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return t?"\\"+t:"\\x"+(e<16?"0":"")+ip.call(e.toString(16))}function jt(r){return"Object("+r+")"}function An(r){return r+" { ? }"}function bs(r,e,t,n){var i=n?oi(t,n):Ce.call(t,", ");return r+" ("+e+") {"+i+"}"}function Ep(r){for(var e=0;e<r.length;e++)if(Xo(r[e],`
`)>=0)return!1;return!0}function xp(r,e){var t;if(r.indent==="	")t="	";else if(typeof r.indent=="number"&&r.indent>0)t=Ce.call(Array(r.indent+1)," ");else return null;return{base:t,prev:Ce.call(Array(e+1),t)}}function oi(r,e){if(r.length===0)return"";var t=`
`+e.prev+e.base;return t+Ce.call(r,","+t)+`
`+e.prev}function pr(r,e){var t=si(r),n=[];if(t){n.length=r.length;for(var i=0;i<r.length;i++)n[i]=$e(r,i)?e(r[i],r):""}var s=typeof In=="function"?In(r):[],o;if(yt){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in r)!$e(r,c)||t&&String(Number(c))===c&&c<r.length||yt&&o["$"+c]instanceof Symbol||(Zo.call(/[^\w$]/,c)?n.push(e(c,r)+": "+e(r[c],r)):n.push(c+": "+e(r[c],r)));if(typeof In=="function")for(var u=0;u<s.length;u++)Ko.call(r,s[u])&&n.push("["+e(s[u])+"]: "+e(r[s[u]],r));return n}var ki=kc,Ot=Cc,kp=op,Cp=ki("%TypeError%"),br=ki("%WeakMap%",!0),gr=ki("%Map%",!0),Mp=Ot("WeakMap.prototype.get",!0),Ip=Ot("WeakMap.prototype.set",!0),Ap=Ot("WeakMap.prototype.has",!0),Tp=Ot("Map.prototype.get",!0),Rp=Ot("Map.prototype.set",!0),Np=Ot("Map.prototype.has",!0),Ci=function(r,e){for(var t=r,n;(n=t.next)!==null;t=n)if(n.key===e)return t.next=n.next,n.next=r.next,r.next=n,n},Op=function(r,e){var t=Ci(r,e);return t&&t.value},Lp=function(r,e,t){var n=Ci(r,e);n?n.value=t:r.next={key:e,next:r.next,value:t}},Dp=function(r,e){return!!Ci(r,e)},Pp=function(){var e,t,n,i={assert:function(s){if(!i.has(s))throw new Cp("Side channel does not contain "+kp(s))},get:function(s){if(br&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Mp(e,s)}else if(gr){if(t)return Tp(t,s)}else if(n)return Op(n,s)},has:function(s){if(br&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Ap(e,s)}else if(gr){if(t)return Np(t,s)}else if(n)return Dp(n,s);return!1},set:function(s,o){br&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new br),Ip(e,s,o)):gr?(t||(t=new gr),Rp(t,s,o)):(n||(n={key:{},next:null}),Lp(n,s,o))}};return i},jp=String.prototype.replace,Bp=/%20/g,Tn={RFC1738:"RFC1738",RFC3986:"RFC3986"},Mi={default:Tn.RFC3986,formatters:{RFC1738:function(r){return jp.call(r,Bp,"+")},RFC3986:function(r){return String(r)}},RFC1738:Tn.RFC1738,RFC3986:Tn.RFC3986},Fp=Mi,Rn=Object.prototype.hasOwnProperty,Je=Array.isArray,Ee=function(){for(var r=[],e=0;e<256;++e)r.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return r}(),Wp=function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(Je(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]!="undefined"&&i.push(n[s]);t.obj[t.prop]=i}}},ta=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]!="undefined"&&(n[i]=e[i]);return n},$p=function r(e,t,n){if(!t)return e;if(typeof t!="object"){if(Je(e))e.push(t);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Rn.call(Object.prototype,t))&&(e[t]=!0);else return[e,t];return e}if(!e||typeof e!="object")return[e].concat(t);var i=e;return Je(e)&&!Je(t)&&(i=ta(e,n)),Je(e)&&Je(t)?(t.forEach(function(s,o){if(Rn.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=r(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(t).reduce(function(s,o){var a=t[o];return Rn.call(s,o)?s[o]=r(s[o],a,n):s[o]=a,s},i)},Hp=function(e,t){return Object.keys(t).reduce(function(n,i){return n[i]=t[i],n},e)},Up=function(r,e,t){var n=r.replace(/\+/g," ");if(t==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Vp=function(e,t,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;++c){var u=o.charCodeAt(c);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||s===Fp.RFC1738&&(u===40||u===41)){a+=o.charAt(c);continue}if(u<128){a=a+Ee[u];continue}if(u<2048){a=a+(Ee[192|u>>6]+Ee[128|u&63]);continue}if(u<55296||u>=57344){a=a+(Ee[224|u>>12]+Ee[128|u>>6&63]+Ee[128|u&63]);continue}c+=1,u=65536+((u&1023)<<10|o.charCodeAt(c)&1023),a+=Ee[240|u>>18]+Ee[128|u>>12&63]+Ee[128|u>>6&63]+Ee[128|u&63]}return a},zp=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],i=0;i<t.length;++i)for(var s=t[i],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var u=a[c],l=o[u];typeof l=="object"&&l!==null&&n.indexOf(l)===-1&&(t.push({obj:o,prop:u}),n.push(l))}return Wp(t),e},qp=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Gp=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Qp=function(e,t){return[].concat(e,t)},Zp=function(e,t){if(Je(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(t(e[i]));return n}return t(e)},ra={arrayToObject:ta,assign:Hp,combine:Qp,compact:zp,decode:Up,encode:Vp,isBuffer:Gp,isRegExp:qp,maybeMap:Zp,merge:$p},na=Pp,ai=ra,Vt=Mi,Kp=Object.prototype.hasOwnProperty,gs={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},Oe=Array.isArray,Yp=String.prototype.split,Jp=Array.prototype.push,ia=function(r,e){Jp.apply(r,Oe(e)?e:[e])},Xp=Date.prototype.toISOString,ms=Vt.default,Q={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:ai.encode,encodeValuesOnly:!1,format:ms,formatter:Vt.formatters[ms],indices:!1,serializeDate:function(e){return Xp.call(e)},skipNulls:!1,strictNullHandling:!1},eb=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Nn={},tb=function r(e,t,n,i,s,o,a,c,u,l,d,h,f,p,w,v){for(var g=e,y=v,m=0,A=!1;(y=y.get(Nn))!==void 0&&!A;){var O=y.get(e);if(m+=1,typeof O!="undefined"){if(O===m)throw new RangeError("Cyclic object value");A=!0}typeof y.get(Nn)=="undefined"&&(m=0)}if(typeof c=="function"?g=c(t,g):g instanceof Date?g=d(g):n==="comma"&&Oe(g)&&(g=ai.maybeMap(g,function(kn){return kn instanceof Date?d(kn):kn})),g===null){if(s)return a&&!p?a(t,Q.encoder,w,"key",h):t;g=""}if(eb(g)||ai.isBuffer(g)){if(a){var T=p?t:a(t,Q.encoder,w,"key",h);if(n==="comma"&&p){for(var L=Yp.call(String(g),","),Be="",ee=0;ee<L.length;++ee)Be+=(ee===0?"":",")+f(a(L[ee],Q.encoder,w,"value",h));return[f(T)+(i&&Oe(g)&&L.length===1?"[]":"")+"="+Be]}return[f(T)+"="+f(a(g,Q.encoder,w,"value",h))]}return[f(t)+"="+f(String(g))]}var se=[];if(typeof g=="undefined")return se;var te;if(n==="comma"&&Oe(g))te=[{value:g.length>0?g.join(",")||null:void 0}];else if(Oe(c))te=c;else{var F=Object.keys(g);te=u?F.sort(u):F}for(var ae=i&&Oe(g)&&g.length===1?t+"[]":t,ge=0;ge<te.length;++ge){var me=te[ge],Ke=typeof me=="object"&&typeof me.value!="undefined"?me.value:g[me];if(!(o&&Ke===null)){var cc=Oe(g)?typeof n=="function"?n(ae,me):ae:ae+(l?"."+me:"["+me+"]");v.set(e,m);var Yi=na();Yi.set(Nn,v),ia(se,r(Ke,cc,n,i,s,o,a,c,u,l,d,h,f,p,w,Yi))}}return se},rb=function(e){if(!e)return Q;if(e.encoder!==null&&typeof e.encoder!="undefined"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||Q.charset;if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Vt.default;if(typeof e.format!="undefined"){if(!Kp.call(Vt.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Vt.formatters[n],s=Q.filter;return(typeof e.filter=="function"||Oe(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Q.addQueryPrefix,allowDots:typeof e.allowDots=="undefined"?Q.allowDots:!!e.allowDots,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Q.charsetSentinel,delimiter:typeof e.delimiter=="undefined"?Q.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Q.encode,encoder:typeof e.encoder=="function"?e.encoder:Q.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Q.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Q.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Q.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Q.strictNullHandling}},nb=function(r,e){var t=r,n=rb(e),i,s;typeof n.filter=="function"?(s=n.filter,t=s("",t)):Oe(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof t!="object"||t===null)return"";var a;e&&e.arrayFormat in gs?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=gs[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(t)),n.sort&&i.sort(n.sort);for(var l=na(),d=0;d<i.length;++d){var h=i[d];n.skipNulls&&t[h]===null||ia(o,tb(t[h],h,c,u,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var f=o.join(n.delimiter),p=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),f.length>0?p+f:""},_t=ra,ci=Object.prototype.hasOwnProperty,ib=Array.isArray,z={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:_t.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},sb=function(r){return r.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},sa=function(r,e){return r&&typeof r=="string"&&e.comma&&r.indexOf(",")>-1?r.split(","):r},ob="utf8=%26%2310003%3B",ab="utf8=%E2%9C%93",cb=function(e,t){var n={},i=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=t.parameterLimit===1/0?void 0:t.parameterLimit,o=i.split(t.delimiter,s),a=-1,c,u=t.charset;if(t.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===ab?u="utf-8":o[c]===ob&&(u="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var l=o[c],d=l.indexOf("]="),h=d===-1?l.indexOf("="):d+1,f,p;h===-1?(f=t.decoder(l,z.decoder,u,"key"),p=t.strictNullHandling?null:""):(f=t.decoder(l.slice(0,h),z.decoder,u,"key"),p=_t.maybeMap(sa(l.slice(h+1),t),function(w){return t.decoder(w,z.decoder,u,"value")})),p&&t.interpretNumericEntities&&u==="iso-8859-1"&&(p=sb(p)),l.indexOf("[]=")>-1&&(p=ib(p)?[p]:p),ci.call(n,f)?n[f]=_t.combine(n[f],p):n[f]=p}return n},ub=function(r,e,t,n){for(var i=n?e:sa(e,t),s=r.length-1;s>=0;--s){var o,a=r[s];if(a==="[]"&&t.parseArrays)o=[].concat(i);else{o=t.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,u=parseInt(c,10);!t.parseArrays&&c===""?o={0:i}:!isNaN(u)&&a!==c&&String(u)===c&&u>=0&&t.parseArrays&&u<=t.arrayLimit?(o=[],o[u]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},lb=function(e,t,n,i){if(!!e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(s),u=c?s.slice(0,c.index):s,l=[];if(u){if(!n.plainObjects&&ci.call(Object.prototype,u)&&!n.allowPrototypes)return;l.push(u)}for(var d=0;n.depth>0&&(c=a.exec(s))!==null&&d<n.depth;){if(d+=1,!n.plainObjects&&ci.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(c[1])}return c&&l.push("["+s.slice(c.index)+"]"),ub(l,t,n,i)}},hb=function(e){if(!e)return z;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset=="undefined"?z.charset:e.charset;return{allowDots:typeof e.allowDots=="undefined"?z.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:z.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:z.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:z.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:z.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:z.comma,decoder:typeof e.decoder=="function"?e.decoder:z.decoder,delimiter:typeof e.delimiter=="string"||_t.isRegExp(e.delimiter)?e.delimiter:z.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:z.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:z.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:z.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:z.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:z.strictNullHandling}},db=function(r,e){var t=hb(e);if(r===""||r===null||typeof r=="undefined")return t.plainObjects?Object.create(null):{};for(var n=typeof r=="string"?cb(r,t):r,i=t.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],c=lb(a,n[a],t,typeof r=="string");i=_t.merge(i,c,t)}return t.allowSparse===!0?i:_t.compact(i)},fb=nb,pb=db,bb=Mi,gb={formats:bb,parse:pb,stringify:fb},ir={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.ProviderType=r.RegExpString=r.IntNumber=r.BigIntString=r.AddressString=r.HexString=r.OpaqueType=void 0;function e(){return n=>n}r.OpaqueType=e,r.HexString=e(),r.AddressString=e(),r.BigIntString=e();function t(n){return Math.floor(n)}r.IntNumber=t,r.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(r.ProviderType||(r.ProviderType={}))})(ir);var mb=N&&N.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_,"__esModule",{value:!0});_.isInIFrame=_.createQrUrl=_.getFavicon=_.range=_.isBigNumber=_.ensureParsedJSONObject=_.ensureBN=_.ensureRegExpString=_.ensureIntNumber=_.ensureBuffer=_.ensureAddressString=_.ensureEvenLengthHexString=_.ensureHexString=_.isHexString=_.prepend0x=_.strip0x=_.has0xPrefix=_.hexStringFromIntNumber=_.intNumberFromHexString=_.bigIntStringFromBN=_.hexStringFromBuffer=_.hexStringToUint8Array=_.uint8ArrayToHex=_.randomBytesHex=void 0;const He=mb($r.exports),vb=gb,pe=ir,oa=/^[0-9]*$/,aa=/^[a-f0-9]*$/;function yb(r){return ca(crypto.getRandomValues(new Uint8Array(r)))}_.randomBytesHex=yb;function ca(r){return[...r].map(e=>e.toString(16).padStart(2,"0")).join("")}_.uint8ArrayToHex=ca;function _b(r){return new Uint8Array(r.match(/.{1,2}/g).map(e=>parseInt(e,16)))}_.hexStringToUint8Array=_b;function wb(r,e=!1){const t=r.toString("hex");return(0,pe.HexString)(e?"0x"+t:t)}_.hexStringFromBuffer=wb;function Sb(r){return(0,pe.BigIntString)(r.toString(10))}_.bigIntStringFromBN=Sb;function Eb(r){return(0,pe.IntNumber)(new He.default(or(r,!1),16).toNumber())}_.intNumberFromHexString=Eb;function xb(r){return(0,pe.HexString)("0x"+new He.default(r).toString(16))}_.hexStringFromIntNumber=xb;function Ii(r){return r.startsWith("0x")||r.startsWith("0X")}_.has0xPrefix=Ii;function Jr(r){return Ii(r)?r.slice(2):r}_.strip0x=Jr;function ua(r){return Ii(r)?"0x"+r.slice(2):"0x"+r}_.prepend0x=ua;function sr(r){if(typeof r!="string")return!1;const e=Jr(r).toLowerCase();return aa.test(e)}_.isHexString=sr;function la(r,e=!1){if(typeof r=="string"){const t=Jr(r).toLowerCase();if(aa.test(t))return(0,pe.HexString)(e?"0x"+t:t)}throw new Error(`"${String(r)}" is not a hexadecimal string`)}_.ensureHexString=la;function or(r,e=!1){let t=la(r,!1);return t.length%2===1&&(t=(0,pe.HexString)("0"+t)),e?(0,pe.HexString)("0x"+t):t}_.ensureEvenLengthHexString=or;function kb(r){if(typeof r=="string"){const e=Jr(r).toLowerCase();if(sr(e)&&e.length===40)return(0,pe.AddressString)(ua(e))}throw new Error(`Invalid Ethereum address: ${String(r)}`)}_.ensureAddressString=kb;function Cb(r){if(Buffer.isBuffer(r))return r;if(typeof r=="string")if(sr(r)){const e=or(r,!1);return Buffer.from(e,"hex")}else return Buffer.from(r,"utf8");throw new Error(`Not binary data: ${String(r)}`)}_.ensureBuffer=Cb;function ha(r){if(typeof r=="number"&&Number.isInteger(r))return(0,pe.IntNumber)(r);if(typeof r=="string"){if(oa.test(r))return(0,pe.IntNumber)(Number(r));if(sr(r))return(0,pe.IntNumber)(new He.default(or(r,!1),16).toNumber())}throw new Error(`Not an integer: ${String(r)}`)}_.ensureIntNumber=ha;function Mb(r){if(r instanceof RegExp)return(0,pe.RegExpString)(r.toString());throw new Error(`Not a RegExp: ${String(r)}`)}_.ensureRegExpString=Mb;function Ib(r){if(r!==null&&(He.default.isBN(r)||da(r)))return new He.default(r.toString(10),10);if(typeof r=="number")return new He.default(ha(r));if(typeof r=="string"){if(oa.test(r))return new He.default(r,10);if(sr(r))return new He.default(or(r,!1),16)}throw new Error(`Not an integer: ${String(r)}`)}_.ensureBN=Ib;function Ab(r){if(typeof r=="string")return JSON.parse(r);if(typeof r=="object")return r;throw new Error(`Not a JSON string or an object: ${String(r)}`)}_.ensureParsedJSONObject=Ab;function da(r){if(r==null||typeof r.constructor!="function")return!1;const{constructor:e}=r;return typeof e.config=="function"&&typeof e.EUCLID=="number"}_.isBigNumber=da;function Tb(r,e){return Array.from({length:e-r},(t,n)=>r+n)}_.range=Tb;function Rb(){const r=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:t}=document.location,n=r?r.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${t}${n}`}_.getFavicon=Rb;function Nb(r,e,t,n,i,s){const o=n?"parent-id":"id",a=(0,vb.stringify)({[o]:r,secret:e,server:t,v:i,chainId:s});return`${t}/#/link?${a}`}_.createQrUrl=Nb;function Ob(){try{return window.frameElement!==null}catch{return!1}}_.isInIFrame=Ob;Object.defineProperty(Rt,"__esModule",{value:!0});Rt.Session=void 0;const Lb=Nt,vs=Yr,ys=Mc.exports,_s=_,On="session:id",ws="session:secret",Ss="session:linked";class Ai{constructor(e,t,n,i){this._storage=e,this._id=t||(0,_s.randomBytesHex)(16),this._secret=n||(0,_s.randomBytesHex)(32),this._key=new ys.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const t=e.getItem(On),n=e.getItem(Ss),i=e.getItem(ws);return t&&i?new Ai(e,t,i,n==="1"):null}static get persistedSessionIdChange$(){return(0,Lb.fromEvent)(window,"storage").pipe((0,vs.filter)(e=>e.key===On),(0,vs.map)(e=>({oldValue:e.oldValue||null,newValue:e.newValue||null})))}static hash(e){return new ys.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(On,this._id),this._storage.setItem(ws,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(Ss,this._linked?"1":"0")}}Rt.Session=Ai;var we={};Object.defineProperty(we,"__esModule",{value:!0});we.WalletSDKRelayAbstract=we.APP_VERSION_KEY=we.LOCAL_STORAGE_ADDRESSES_KEY=we.WALLET_USER_NAME_KEY=void 0;const Es=rr;we.WALLET_USER_NAME_KEY="walletUsername";we.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";we.APP_VERSION_KEY="AppVersion";class Db{async makeEthereumJSONRPCRequest(e,t){if(!t)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(t,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw Es.ethErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,Es.serializeError)(s);return i})}}we.WalletSDKRelayAbstract=Db;const Pb=lc,jb=$r.exports;function fa(r){return Buffer.allocUnsafe(r).fill(0)}function pa(r,e,t){const n=fa(e);return r=Xr(r),t?r.length<e?(r.copy(n),n):r.slice(0,e):r.length<e?(r.copy(n,e-r.length),n):r.slice(-e)}function Bb(r,e){return pa(r,e,!0)}function Xr(r){if(!Buffer.isBuffer(r))if(Array.isArray(r))r=Buffer.from(r);else if(typeof r=="string")ba(r)?r=Buffer.from($b(ga(r)),"hex"):r=Buffer.from(r);else if(typeof r=="number")r=intToBuffer(r);else if(r==null)r=Buffer.allocUnsafe(0);else if(jb.isBN(r))r=r.toArrayLike(Buffer);else if(r.toArray)r=Buffer.from(r.toArray());else throw new Error("invalid type");return r}function Fb(r){return r=Xr(r),"0x"+r.toString("hex")}function Wb(r,e){return r=Xr(r),e||(e=256),Pb("keccak"+e).update(r).digest()}function $b(r){return r.length%2?"0"+r:r}function ba(r){return typeof r=="string"&&r.match(/^0x[0-9A-Fa-f]*$/)}function ga(r){return typeof r=="string"&&r.startsWith("0x")?r.slice(2):r}var ma={zeros:fa,setLength:pa,setLengthRight:Bb,isHexString:ba,stripHexPrefix:ga,toBuffer:Xr,bufferToHex:Fb,keccak:Wb};const st=ma,rt=$r.exports;function va(r){return r.startsWith("int[")?"int256"+r.slice(3):r==="int"?"int256":r.startsWith("uint[")?"uint256"+r.slice(4):r==="uint"?"uint256":r.startsWith("fixed[")?"fixed128x128"+r.slice(5):r==="fixed"?"fixed128x128":r.startsWith("ufixed[")?"ufixed128x128"+r.slice(6):r==="ufixed"?"ufixed128x128":r}function ft(r){return parseInt(/^\D+(\d+)$/.exec(r)[1],10)}function xs(r){var e=/^\D+(\d+)x(\d+)$/.exec(r);return[parseInt(e[1],10),parseInt(e[2],10)]}function ya(r){var e=r.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function Xe(r){var e=typeof r;if(e==="string")return st.isHexString(r)?new rt(st.stripHexPrefix(r),16):new rt(r,10);if(e==="number")return new rt(r);if(r.toArray)return r;throw new Error("Argument is not a number")}function ke(r,e){var t,n,i,s;if(r==="address")return ke("uint160",Xe(e));if(r==="bool")return ke("uint8",e?1:0);if(r==="string")return ke("bytes",new Buffer(e,"utf8"));if(Ub(r)){if(typeof e.length=="undefined")throw new Error("Not an array?");if(t=ya(r),t!=="dynamic"&&t!==0&&e.length>t)throw new Error("Elements exceed array size: "+t);i=[],r=r.slice(0,r.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(ke(r,e[s]));if(t==="dynamic"){var o=ke("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(r==="bytes")return e=new Buffer(e),i=Buffer.concat([ke("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,st.zeros(32-e.length%32)])),i;if(r.startsWith("bytes")){if(t=ft(r),t<1||t>32)throw new Error("Invalid bytes<N> width: "+t);return st.setLengthRight(e,32)}else if(r.startsWith("uint")){if(t=ft(r),t%8||t<8||t>256)throw new Error("Invalid uint<N> width: "+t);if(n=Xe(e),n.bitLength()>t)throw new Error("Supplied uint exceeds width: "+t+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(r.startsWith("int")){if(t=ft(r),t%8||t<8||t>256)throw new Error("Invalid int<N> width: "+t);if(n=Xe(e),n.bitLength()>t)throw new Error("Supplied int exceeds width: "+t+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(r.startsWith("ufixed")){if(t=xs(r),n=Xe(e),n<0)throw new Error("Supplied ufixed is negative");return ke("uint256",n.mul(new rt(2).pow(new rt(t[1]))))}else if(r.startsWith("fixed"))return t=xs(r),ke("int256",Xe(e).mul(new rt(2).pow(new rt(t[1]))))}throw new Error("Unsupported or invalid type: "+r)}function Hb(r){return r==="string"||r==="bytes"||ya(r)==="dynamic"}function Ub(r){return r.lastIndexOf("]")===r.length-1}function Vb(r,e){var t=[],n=[],i=32*r.length;for(var s in r){var o=va(r[s]),a=e[s],c=ke(o,a);Hb(o)?(t.push(ke("uint256",i)),n.push(c),i+=c.length):t.push(c)}return Buffer.concat(t.concat(n))}function _a(r,e){if(r.length!==e.length)throw new Error("Number of types are not matching the values");for(var t,n,i=[],s=0;s<r.length;s++){var o=va(r[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(st.setLength(a,20));else if(o.startsWith("bytes")){if(t=ft(o),t<1||t>32)throw new Error("Invalid bytes<N> width: "+t);i.push(st.setLengthRight(a,t))}else if(o.startsWith("uint")){if(t=ft(o),t%8||t<8||t>256)throw new Error("Invalid uint<N> width: "+t);if(n=Xe(a),n.bitLength()>t)throw new Error("Supplied uint exceeds width: "+t+" vs "+n.bitLength());i.push(n.toArrayLike(Buffer,"be",t/8))}else if(o.startsWith("int")){if(t=ft(o),t%8||t<8||t>256)throw new Error("Invalid int<N> width: "+t);if(n=Xe(a),n.bitLength()>t)throw new Error("Supplied int exceeds width: "+t+" vs "+n.bitLength());i.push(n.toTwos(t).toArrayLike(Buffer,"be",t/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function zb(r,e){return st.keccak(_a(r,e))}var qb={rawEncode:Vb,solidityPack:_a,soliditySHA3:zb};const ye=ma,zt=qb,wa={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},Ln={encodeData(r,e,t,n=!0){const i=["bytes32"],s=[this.hashType(r,t)];if(n){const o=(a,c,u)=>{if(t[c]!==void 0)return["bytes32",u==null?"0x0000000000000000000000000000000000000000000000000000000000000000":ye.keccak(this.encodeData(c,u,t,n))];if(u===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",ye.keccak(u)];if(c==="string")return typeof u=="string"&&(u=Buffer.from(u,"utf8")),["bytes32",ye.keccak(u)];if(c.lastIndexOf("]")===c.length-1){const l=c.slice(0,c.lastIndexOf("[")),d=u.map(h=>o(a,l,h));return["bytes32",ye.keccak(zt.rawEncode(d.map(([h])=>h),d.map(([,h])=>h)))]}return[c,u]};for(const a of t[r]){const[c,u]=o(a.name,a.type,e[a.name]);i.push(c),s.push(u)}}else for(const o of t[r]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=ye.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=ye.keccak(a),s.push(a);else if(t[o.type]!==void 0)i.push("bytes32"),a=ye.keccak(this.encodeData(o.type,a,t,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return zt.rawEncode(i,s)},encodeType(r,e){let t="",n=this.findTypeDependencies(r,e).filter(i=>i!==r);n=[r].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);t+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return t},findTypeDependencies(r,e,t=[]){if(r=r.match(/^\w*/)[0],t.includes(r)||e[r]===void 0)return t;t.push(r);for(const n of e[r])for(const i of this.findTypeDependencies(n.type,e,t))!t.includes(i)&&t.push(i);return t},hashStruct(r,e,t,n=!0){return ye.keccak(this.encodeData(r,e,t,n))},hashType(r,e){return ye.keccak(this.encodeType(r,e))},sanitizeData(r){const e={};for(const t in wa.properties)r[t]&&(e[t]=r[t]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(r,e=!0){const t=this.sanitizeData(r),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",t.domain,t.types,e)),t.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(t.primaryType,t.message,t.types,e)),ye.keccak(Buffer.concat(n))}};var Gb={TYPED_MESSAGE_SCHEMA:wa,TypedDataUtils:Ln,hashForSignTypedDataLegacy:function(r){return Qb(r.data)},hashForSignTypedData_v3:function(r){return Ln.hash(r.data,!1)},hashForSignTypedData_v4:function(r){return Ln.hash(r.data)}};function Qb(r){const e=new Error("Expect argument to be non-empty array");if(typeof r!="object"||!r.length)throw e;const t=r.map(function(s){return s.type==="bytes"?ye.toBuffer(s.value):s.value}),n=r.map(function(s){return s.type}),i=r.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return zt.soliditySHA3(["bytes32","bytes32"],[zt.soliditySHA3(new Array(r.length).fill("string"),i),zt.soliditySHA3(n,t)])}var wt={};Object.defineProperty(wt,"__esModule",{value:!0});wt.filterFromParam=wt.FilterPolyfill=void 0;const lt=ir,ie=_,Zb=5*60*1e3,et={jsonrpc:"2.0",id:0};class Kb{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,lt.IntNumber)(1),this.provider=e}async newFilter(e){const t=Sa(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,t.fromBlock);return console.log(`Installing new log filter(${n}):`,t,"initial cursor position:",i),this.logFilters.set(n,t),this.setFilterTimeout(n),(0,ie.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),t=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,t),this.blockFilters.add(e),this.setFilterTimeout(e),(0,ie.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),t=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,t),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,ie.hexStringFromIntNumber)(e)}uninstallFilter(e){const t=(0,ie.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${t})`),this.deleteFilter(t),!0}getFilterChanges(e){const t=(0,ie.intNumberFromHexString)(e);return this.timeouts.has(t)&&this.setFilterTimeout(t),this.logFilters.has(t)?this.getLogFilterChanges(t):this.blockFilters.has(t)?this.getBlockFilterChanges(t):this.pendingTransactionFilters.has(t)?this.getPendingTransactionFilterChanges(t):Promise.resolve(mr())}async getFilterLogs(e){const t=(0,ie.intNumberFromHexString)(e),n=this.logFilters.get(t);return n?this.sendAsyncPromise(Object.assign(Object.assign({},et),{method:"eth_getLogs",params:[ks(n)]})):mr()}makeFilterId(){return(0,lt.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((t,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));t(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const t=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!t)return mr();const i=await this.getCurrentBlockHeight(),s=t.toBlock==="latest"?i:t.toBlock;if(n>i||n>t.toBlock)return vr();console.log(`Fetching logs from ${n} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},et),{method:"eth_getLogs",params:[ks(Object.assign(Object.assign({},t),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(u=>(0,ie.intNumberFromHexString)(u.blockNumber||"0x0")),c=Math.max(...a);if(c&&c>n){const u=(0,lt.IntNumber)(c+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${u}`),this.cursors.set(e,u)}}return o}async getBlockFilterChanges(e){const t=this.cursors.get(e);if(!t)return mr();const n=await this.getCurrentBlockHeight();if(t>n)return vr();console.log(`Fetching blocks from ${t} to ${n} for filter (${e})`);const i=(await Promise.all((0,ie.range)(t,n+1).map(o=>this.getBlockHashByNumber((0,lt.IntNumber)(o))))).filter(o=>!!o),s=(0,lt.IntNumber)(t+i.length);return console.log(`Moving cursor position for filter (${e}) from ${t} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},et),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(vr())}async setInitialCursorPosition(e,t){const n=await this.getCurrentBlockHeight(),i=typeof t=="number"&&t>n?t:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const t=this.timeouts.get(e);t&&window.clearTimeout(t);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},Zb);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},et),{method:"eth_blockNumber",params:[]}));return(0,ie.intNumberFromHexString)((0,ie.ensureHexString)(e))}async getBlockHashByNumber(e){const t=await this.sendAsyncPromise(Object.assign(Object.assign({},et),{method:"eth_getBlockByNumber",params:[(0,ie.hexStringFromIntNumber)(e),!1]}));return t.result&&typeof t.result.hash=="string"?(0,ie.ensureHexString)(t.result.hash):null}}wt.FilterPolyfill=Kb;function Sa(r){return{fromBlock:Cs(r.fromBlock),toBlock:Cs(r.toBlock),addresses:r.address===void 0?null:Array.isArray(r.address)?r.address:[r.address],topics:r.topics||[]}}wt.filterFromParam=Sa;function ks(r){const e={fromBlock:Ms(r.fromBlock),toBlock:Ms(r.toBlock),topics:r.topics};return r.addresses!==null&&(e.address=r.addresses),e}function Cs(r){if(r===void 0||r==="latest"||r==="pending")return"latest";if(r==="earliest")return(0,lt.IntNumber)(0);if((0,ie.isHexString)(r))return(0,ie.intNumberFromHexString)(r);throw new Error(`Invalid block option: ${String(r)}`)}function Ms(r){return r==="latest"?r:(0,ie.hexStringFromIntNumber)(r)}function mr(){return Object.assign(Object.assign({},et),{error:{code:-32e3,message:"filter not found"}})}function vr(){return Object.assign(Object.assign({},et),{result:[]})}var Ea={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(r.JSONRPCMethod||(r.JSONRPCMethod={}))})(Ea);var en={};const Is=(r,e)=>function(){const t=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new t((i,s)=>{e.errorFirst?n.push(function(o,a){if(e.multiArgs){const c=new Array(arguments.length-1);for(let u=1;u<arguments.length;u++)c[u-1]=arguments[u];o?(c.unshift(o),s(c)):i(c)}else o?s(o):i(a)}):n.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let c=0;c<arguments.length;c++)a[c]=arguments[c];i(a)}else i(o)}),r.apply(this,n)})};var Yb=(r,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const t=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof r=="function"?n=function(){return e.excludeMain?r.apply(this,arguments):Is(r,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(r));for(const i in r){const s=r[i];n[i]=typeof s=="function"&&t(i)?Is(s,e):s}return n},Jb=eg,Xb=Object.prototype.hasOwnProperty;function eg(){for(var r={},e=0;e<arguments.length;e++){var t=arguments[e];for(var n in t)Xb.call(t,n)&&(r[n]=t[n])}return r}var tg=rg;function rg(r){r=r||{};var e=r.max||Number.MAX_SAFE_INTEGER,t=typeof r.start!="undefined"?r.start:Math.floor(Math.random()*e);return function(){return t=t%e,t++}}const ng=Jb,ig=tg();var sg=E;function E(r){const e=this;e.currentProvider=r}E.prototype.getBalance=ar(2,"eth_getBalance");E.prototype.getCode=ar(2,"eth_getCode");E.prototype.getTransactionCount=ar(2,"eth_getTransactionCount");E.prototype.getStorageAt=ar(3,"eth_getStorageAt");E.prototype.call=ar(2,"eth_call");E.prototype.protocolVersion=C("eth_protocolVersion");E.prototype.syncing=C("eth_syncing");E.prototype.coinbase=C("eth_coinbase");E.prototype.mining=C("eth_mining");E.prototype.hashrate=C("eth_hashrate");E.prototype.gasPrice=C("eth_gasPrice");E.prototype.accounts=C("eth_accounts");E.prototype.blockNumber=C("eth_blockNumber");E.prototype.getBlockTransactionCountByHash=C("eth_getBlockTransactionCountByHash");E.prototype.getBlockTransactionCountByNumber=C("eth_getBlockTransactionCountByNumber");E.prototype.getUncleCountByBlockHash=C("eth_getUncleCountByBlockHash");E.prototype.getUncleCountByBlockNumber=C("eth_getUncleCountByBlockNumber");E.prototype.sign=C("eth_sign");E.prototype.sendTransaction=C("eth_sendTransaction");E.prototype.sendRawTransaction=C("eth_sendRawTransaction");E.prototype.estimateGas=C("eth_estimateGas");E.prototype.getBlockByHash=C("eth_getBlockByHash");E.prototype.getBlockByNumber=C("eth_getBlockByNumber");E.prototype.getTransactionByHash=C("eth_getTransactionByHash");E.prototype.getTransactionByBlockHashAndIndex=C("eth_getTransactionByBlockHashAndIndex");E.prototype.getTransactionByBlockNumberAndIndex=C("eth_getTransactionByBlockNumberAndIndex");E.prototype.getTransactionReceipt=C("eth_getTransactionReceipt");E.prototype.getUncleByBlockHashAndIndex=C("eth_getUncleByBlockHashAndIndex");E.prototype.getUncleByBlockNumberAndIndex=C("eth_getUncleByBlockNumberAndIndex");E.prototype.getCompilers=C("eth_getCompilers");E.prototype.compileLLL=C("eth_compileLLL");E.prototype.compileSolidity=C("eth_compileSolidity");E.prototype.compileSerpent=C("eth_compileSerpent");E.prototype.newFilter=C("eth_newFilter");E.prototype.newBlockFilter=C("eth_newBlockFilter");E.prototype.newPendingTransactionFilter=C("eth_newPendingTransactionFilter");E.prototype.uninstallFilter=C("eth_uninstallFilter");E.prototype.getFilterChanges=C("eth_getFilterChanges");E.prototype.getFilterLogs=C("eth_getFilterLogs");E.prototype.getLogs=C("eth_getLogs");E.prototype.getWork=C("eth_getWork");E.prototype.submitWork=C("eth_submitWork");E.prototype.submitHashrate=C("eth_submitHashrate");E.prototype.sendAsync=function(r,e){this.currentProvider.sendAsync(og(r),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function C(r){return function(){const e=this;var t=[].slice.call(arguments),n=t.pop();e.sendAsync({method:r,params:t},n)}}function ar(r,e){return function(){const t=this;var n=[].slice.call(arguments),i=n.pop();n.length<r&&n.push("latest"),t.sendAsync({method:e,params:n},i)}}function og(r){return ng({id:ig(),jsonrpc:"2.0",params:[]},r)}const ag=Ic,xa=ao.exports;var Dn=typeof Reflect=="object"?Reflect:null,cg=Dn&&typeof Dn.apply=="function"?Dn.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},ug=Ti;function Ti(){xa.call(this)}ag.inherits(Ti,xa);Ti.prototype.emit=function(r){for(var e=[],t=1;t<arguments.length;t++)e.push(arguments[t]);var n=r==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var a=i[r];if(a===void 0)return!1;if(typeof a=="function")As(a,this,e);else for(var c=a.length,u=lg(a,c),t=0;t<c;++t)As(u[t],this,e);return!0};function As(r,e,t){try{cg(r,e,t)}catch(n){setTimeout(()=>{throw n})}}function lg(r,e){for(var t=new Array(e),n=0;n<e;++n)t[n]=r[n];return t}const hg=ug,dg=1e3,fg=(r,e)=>r+e,Ts=["sync","latest"];class pg extends hg{constructor(e={}){super(),this._blockResetDuration=e.blockResetDuration||20*dg,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(t=>this.once("latest",t))}removeAllListeners(e){e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e,t){!Ts.includes(e)||this._maybeStart()}_onRemoveListener(e,t){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){!this._isRunning||(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return Ts.map(e=>this.listenerCount(e)).reduce(fg)}_newPotentialLatest(e){const t=this._currentBlock;t&&Rs(e)<=Rs(t)||this._setCurrentBlock(e)}_setCurrentBlock(e){const t=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:t,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}var bg=pg;function Rs(r){return Number.parseInt(r,16)}const gg=Yb,mg=bg,vg=1e3;class yg extends mg{constructor(e={}){if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");const t=e.pollingInterval||20*vg,n=e.retryTimeout||t/10,i=e.keepEventLoopActive!==void 0?e.keepEventLoopActive:!0,s=e.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:t},e)),this._provider=e.provider,this._pollingInterval=t,this._retryTimeout=n,this._keepEventLoopActive=i,this._setSkipCacheFlag=s}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch(e=>this.emit("error",e))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await Ns(this._pollingInterval,!this._keepEventLoopActive)}catch(e){const t=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${e.stack}`);try{this.emit("error",t)}catch{console.error(t)}await Ns(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0);const t=await gg(n=>this._provider.sendAsync(e,n))();if(t.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${t.error}`);return t.result}}var _g=yg;function Ns(r,e){return new Promise(t=>{const n=setTimeout(t,r);n.unref&&e&&n.unref()})}var wg=function(e){return(t,n,i,s)=>{const o=e[t.method];return o===void 0?i():typeof o=="function"?o(t,n,i,s):(n.result=o,s())}},ka=wg,Ri={},tn={},cr={};Object.defineProperty(cr,"__esModule",{value:!0});cr.getUniqueId=void 0;const Ca=4294967295;let Pn=Math.floor(Math.random()*Ca);function Sg(){return Pn=(Pn+1)%Ca,Pn}cr.getUniqueId=Sg;Object.defineProperty(tn,"__esModule",{value:!0});tn.createIdRemapMiddleware=void 0;const Eg=cr;function xg(){return(r,e,t,n)=>{const i=r.id,s=Eg.getUniqueId();r.id=s,e.id=s,t(o=>{r.id=i,e.id=i,o()})}}tn.createIdRemapMiddleware=xg;var rn={};Object.defineProperty(rn,"__esModule",{value:!0});rn.createAsyncMiddleware=void 0;function kg(r){return async(e,t,n,i)=>{let s;const o=new Promise(l=>{s=l});let a=null,c=!1;const u=async()=>{c=!0,n(l=>{a=l,s()}),await o};try{await r(e,t,u),c?(await o,a(null)):i(null)}catch(l){a?a(l):i(l)}}}rn.createAsyncMiddleware=kg;var nn={};Object.defineProperty(nn,"__esModule",{value:!0});nn.createScaffoldMiddleware=void 0;function Cg(r){return(e,t,n,i)=>{const s=r[e.method];return s===void 0?n():typeof s=="function"?s(e,t,n,i):(t.result=s,i())}}nn.createScaffoldMiddleware=Cg;var ur={},Mg=N&&N.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ur,"__esModule",{value:!0});ur.JsonRpcEngine=void 0;const Ig=Mg(At),de=rr;class Ne extends Ig.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,t){if(t&&typeof t!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,n,i)=>{try{const[s,o,a]=await Ne._runAllMiddleware(e,t,this._middleware);return o?(await Ne._runReturnHandlers(a),i(s)):n(async c=>{try{await Ne._runReturnHandlers(a)}catch(u){return c(u)}return c()})}catch(s){return i(s)}}}async _handleBatch(e,t){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return t?t(null,n):n}catch(n){if(t)return t(n);throw n}}_promiseHandle(e){return new Promise(t=>{this._handle(e,(n,i)=>{t(i)})})}async _handle(e,t){if(!e||Array.isArray(e)||typeof e!="object"){const o=new de.EthereumRpcError(de.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return t(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new de.EthereumRpcError(de.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return t(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=de.serializeError(s))),t(s,i)}async _processRequest(e,t){const[n,i,s]=await Ne._runAllMiddleware(e,t,this._middleware);if(Ne._checkForCompletion(e,t,i),await Ne._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,t,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await Ne._runMiddleware(e,t,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,t,n,i){return new Promise(s=>{const o=c=>{const u=c||t.error;u&&(t.error=de.serializeError(u)),s([u,!0])},a=c=>{t.error?o(t.error):(c&&(typeof c!="function"&&o(new de.EthereumRpcError(de.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${jn(e)}`,{request:e})),i.push(c)),s([null,!1]))};try{n(e,t,a,o)}catch(c){o(c)}})}static async _runReturnHandlers(e){for(const t of e)await new Promise((n,i)=>{t(s=>s?i(s):n())})}static _checkForCompletion(e,t,n){if(!("result"in t)&&!("error"in t))throw new de.EthereumRpcError(de.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${jn(e)}`,{request:e});if(!n)throw new de.EthereumRpcError(de.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${jn(e)}`,{request:e})}}ur.JsonRpcEngine=Ne;function jn(r){return JSON.stringify(r,null,2)}var sn={};Object.defineProperty(sn,"__esModule",{value:!0});sn.mergeMiddleware=void 0;const Ag=ur;function Tg(r){const e=new Ag.JsonRpcEngine;return r.forEach(t=>e.push(t)),e.asMiddleware()}sn.mergeMiddleware=Tg;(function(r){var e=N&&N.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),t=N&&N.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(r,"__esModule",{value:!0}),t(tn,r),t(rn,r),t(nn,r),t(cr,r),t(ur,r),t(sn,r)})(Ri);var Ma={},Ni={},Oi=Ct(hc),on={};Object.defineProperty(on,"__esModule",{value:!0});var Os=Oi,Rg=function(){function r(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return r.prototype.acquire=function(){var e=this,t=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return t||this._dispatch(),n},r.prototype.runExclusive=function(e){return Os.__awaiter(this,void 0,void 0,function(){var t,n,i;return Os.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:t=s.sent(),n=t[0],i=t[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},r.prototype.isLocked=function(){return this._value<=0},r.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},r.prototype._dispatch=function(){var e=this,t=this._queue.shift();if(!!t){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},t([this._value--,this._currentReleaser])}},r}();on.default=Rg;Object.defineProperty(Ni,"__esModule",{value:!0});var Ls=Oi,Ng=on,Og=function(){function r(){this._semaphore=new Ng.default(1)}return r.prototype.acquire=function(){return Ls.__awaiter(this,void 0,void 0,function(){var e,t;return Ls.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),t=e[1],[2,t]}})})},r.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},r.prototype.isLocked=function(){return this._semaphore.isLocked()},r.prototype.release=function(){this._semaphore.release()},r}();Ni.default=Og;var an={};Object.defineProperty(an,"__esModule",{value:!0});an.withTimeout=void 0;var yr=Oi;function Lg(r,e,t){var n=this;return t===void 0&&(t=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return yr.__awaiter(n,void 0,void 0,function(){var o,a,c;return yr.__generator(this,function(u){switch(u.label){case 0:return o=!1,setTimeout(function(){o=!0,s(t)},e),[4,r.acquire()];case 1:return a=u.sent(),o?(c=Array.isArray(a)?a[1]:a,c()):i(a),[2]}})})})},runExclusive:function(i){return yr.__awaiter(this,void 0,void 0,function(){var s,o;return yr.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){r.release()},isLocked:function(){return r.isLocked()}}}an.withTimeout=Lg;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.withTimeout=r.Semaphore=r.Mutex=void 0;var e=Ni;Object.defineProperty(r,"Mutex",{enumerable:!0,get:function(){return e.default}});var t=on;Object.defineProperty(r,"Semaphore",{enumerable:!0,get:function(){return t.default}});var n=an;Object.defineProperty(r,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(Ma);const Ds=(r,e,t,n)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...u)=>{e.errorFirst?u[0]?a(u):(u.shift(),o(u)):o(u)}):e.errorFirst?i.push((u,l)=>{u?a(u):o(l)}):i.push(o),Reflect.apply(r,this===t?n:this,i)})},Ps=new WeakMap;var Dg=(r,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const t=typeof r;if(!(r!==null&&(t==="object"||t==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${r===null?"null":t}\``);const n=(o,a)=>{let c=Ps.get(o);if(c||(c={},Ps.set(o,c)),a in c)return c[a];const u=p=>typeof p=="string"||typeof a=="symbol"?a===p:p.test(a),l=Reflect.getOwnPropertyDescriptor(o,a),d=l===void 0||l.writable||l.configurable,f=(e.include?e.include.some(u):!e.exclude.some(u))&&d;return c[a]=f,f},i=new WeakMap,s=new Proxy(r,{apply(o,a,c){const u=i.get(o);if(u)return Reflect.apply(u,a,c);const l=e.excludeMain?o:Ds(o,e,s,o);return i.set(o,l),Reflect.apply(l,a,c)},get(o,a){const c=o[a];if(!n(o,a)||c===Function.prototype[a])return c;const u=i.get(c);if(u)return u;if(typeof c=="function"){const l=Ds(c,e,s,o);return i.set(c,l),l}return c}});return s};const Pg=At.default;class jg extends Pg{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(t=>this.emit("update",t))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}}var Li=jg;const Bg=Li;class Fg extends Bg{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}}var Wg=Fg,lr={minBlockRef:$g,maxBlockRef:Hg,sortBlockRefs:Di,bnToHex:Ug,blockRefIsNumber:Vg,hexToInt:Pr,incrementHexInt:zg,intToHex:Ia,unsafeRandomBytes:qg};function $g(...r){return Di(r)[0]}function Hg(...r){const e=Di(r);return e[e.length-1]}function Di(r){return r.sort((e,t)=>e==="latest"||t==="earliest"?1:t==="latest"||e==="earliest"?-1:Pr(e)-Pr(t))}function Ug(r){return"0x"+r.toString(16)}function Vg(r){return r&&!["earliest","latest","pending"].includes(r)}function Pr(r){return r==null?r:Number.parseInt(r,16)}function zg(r){if(r==null)return r;const e=Pr(r);return Ia(e+1)}function Ia(r){if(r==null)return r;let e=r.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function qg(r){let e="0x";for(let t=0;t<r;t++)e+=js(),e+=js();return e}function js(){return Math.floor(Math.random()*16).toString(16)}const Gg=sg,Qg=Dg,Zg=Wg,{bnToHex:Gv,hexToInt:_r,incrementHexInt:Kg,minBlockRef:Yg,blockRefIsNumber:Jg}=lr;class Xg extends Zg{constructor({provider:e,params:t}){super(),this.type="log",this.ethQuery=new Gg(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},t),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let t=this.params.fromBlock;["latest","pending"].includes(t)&&(t=e),t==="earliest"&&(t="0x0"),this.params.fromBlock=t;const n=Yg(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:t}){const n=t;let i;e?i=Kg(e):i=t;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(s)).filter(c=>this.matchLog(c));this.addResults(a)}async _fetchLogs(e){return await Qg(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(_r(this.params.fromBlock)>=_r(e.blockNumber)||Jg(this.params.toBlock)&&_r(this.params.toBlock)<=_r(e.blockNumber))return!1;const t=e.address&&e.address.toLowerCase();return this.params.address&&t&&!this.params.address.includes(t)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(l=>l.toLowerCase()),a.includes(o))})}}var e0=Xg,Pi=t0;async function t0({provider:r,fromBlock:e,toBlock:t}){e||(e=t);const n=Bs(e),s=Bs(t)-n+1,o=Array(s).fill().map((c,u)=>n+u).map(r0);return await Promise.all(o.map(c=>n0(r,"eth_getBlockByNumber",[c,!1])))}function Bs(r){return r==null?r:Number.parseInt(r,16)}function r0(r){if(r==null)return r;const e=r.toString(16);return"0x"+e}function n0(r,e,t){return new Promise((n,i)=>{r.sendAsync({id:1,jsonrpc:"2.0",method:e,params:t},(s,o)=>{if(s)return i(s);n(o.result)})})}const i0=Li,s0=Pi,{incrementHexInt:o0}=lr;class a0 extends i0{constructor({provider:e,params:t}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:t}){const n=t,i=o0(e),o=(await s0({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(o)}}var c0=a0;const u0=Li,l0=Pi,{incrementHexInt:h0}=lr;class d0 extends u0{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const t=e,n=h0(e),i=await l0({provider:this.provider,fromBlock:n,toBlock:t}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}}var f0=d0;const p0=Ma.Mutex,{createAsyncMiddleware:b0}=Ri,g0=ka,m0=e0,v0=c0,y0=f0,{intToHex:Aa,hexToInt:Bn}=lr;var _0=w0;function w0({blockTracker:r,provider:e}){let t=0,n={};const i=new p0,s=S0({mutex:i}),o=g0({eth_newFilter:s(Fn(c)),eth_newBlockFilter:s(Fn(u)),eth_newPendingTransactionFilter:s(Fn(l)),eth_uninstallFilter:s(kr(f)),eth_getFilterChanges:s(kr(d)),eth_getFilterLogs:s(kr(h))}),a=async({oldBlock:y,newBlock:m})=>{if(n.length===0)return;const A=await i.acquire();try{await Promise.all(ct(n).map(async O=>{try{await O.update({oldBlock:y,newBlock:m})}catch(T){console.error(T)}}))}catch(O){console.error(O)}A()};return o.newLogFilter=c,o.newBlockFilter=u,o.newPendingTransactionFilter=l,o.uninstallFilter=f,o.getFilterChanges=d,o.getFilterLogs=h,o.destroy=()=>{v()},o;async function c(y){const m=new m0({provider:e,params:y});return await p(m),m}async function u(){const y=new v0({provider:e});return await p(y),y}async function l(){const y=new y0({provider:e});return await p(y),y}async function d(y){const m=Bn(y),A=n[m];if(!A)throw new Error(`No filter for index "${m}"`);return A.getChangesAndClear()}async function h(y){const m=Bn(y),A=n[m];if(!A)throw new Error(`No filter for index "${m}"`);return A.type==="log"?results=A.getAllResults():results=[],results}async function f(y){const m=Bn(y),A=n[m],O=Boolean(A);return O&&await w(m),O}async function p(y){const m=ct(n).length,A=await r.getLatestBlock();await y.initialize({currentBlock:A}),t++,n[t]=y,y.id=t,y.idHex=Aa(t);const O=ct(n).length;return g({prevFilterCount:m,newFilterCount:O}),t}async function w(y){const m=ct(n).length;delete n[y];const A=ct(n).length;g({prevFilterCount:m,newFilterCount:A})}async function v(){const y=ct(n).length;n={},g({prevFilterCount:y,newFilterCount:0})}function g({prevFilterCount:y,newFilterCount:m}){if(y===0&&m>0){r.on("sync",a);return}if(y>0&&m===0){r.removeListener("sync",a);return}}}function Fn(r){return kr(async(...e)=>{const t=await r(...e);return Aa(t.id)})}function kr(r){return b0(async(e,t)=>{const n=await r.apply(null,e.params);t.result=n})}function S0({mutex:r}){return e=>async(t,n,i,s)=>{(await r.acquire())(),e(t,n,i,s)}}function ct(r,e){const t=[];for(let n in r)t.push(r[n]);return t}const E0=At.default,x0=ka,{createAsyncMiddleware:Fs}=Ri,k0=_0,{unsafeRandomBytes:C0,incrementHexInt:M0}=lr,I0=Pi;var A0=T0;function T0({blockTracker:r,provider:e}){const t={},n=k0({blockTracker:r,provider:e});let i=!1;const s=new E0,o=x0({eth_subscribe:Fs(a),eth_unsubscribe:Fs(c)});return o.destroy=l,{events:s,middleware:o};async function a(d,h){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const f=d.params[0],p=C0(16);let w;switch(f){case"newHeads":w=v({subId:p});break;case"logs":const y=d.params[1],m=await n.newLogFilter(y);w=g({subId:p,filter:m});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${f}"`)}t[p]=w,h.result=p;return;function v({subId:y}){const m={type:f,destroy:async()=>{r.removeListener("sync",m.update)},update:async({oldBlock:A,newBlock:O})=>{const T=O,L=M0(A);(await I0({provider:e,fromBlock:L,toBlock:T})).map(R0).forEach(se=>{u(y,se)})}};return r.on("sync",m.update),m}function g({subId:y,filter:m}){return m.on("update",O=>u(y,O)),{type:f,destroy:async()=>await n.uninstallFilter(m.idHex)}}}async function c(d,h){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const f=d.params[0],p=t[f];if(!p){h.result=!1;return}delete t[f],await p.destroy(),h.result=!0}function u(d,h){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:d,result:h}})}function l(){s.removeAllListeners();for(const d in t)t[d].destroy(),delete t[d];i=!0}}function R0(r){return{hash:r.hash,parentHash:r.parentHash,sha3Uncles:r.sha3Uncles,miner:r.miner,stateRoot:r.stateRoot,transactionsRoot:r.transactionsRoot,receiptsRoot:r.receiptsRoot,logsBloom:r.logsBloom,difficulty:r.difficulty,number:r.number,gasLimit:r.gasLimit,gasUsed:r.gasUsed,nonce:r.nonce,mixHash:r.mixHash,timestamp:r.timestamp,extraData:r.extraData}}Object.defineProperty(en,"__esModule",{value:!0});en.SubscriptionManager=void 0;const N0=_g,O0=A0,Ws=()=>{};class L0{constructor(e){const t=new N0({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=O0({blockTracker:t,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const t={};return await this.subscriptionMiddleware(e,t,Ws,Ws),t}destroy(){this.subscriptionMiddleware.destroy()}}en.SubscriptionManager=L0;var ji=N&&N.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(vt,"__esModule",{value:!0});vt.CoinbaseWalletProvider=void 0;const D0=ji(At),P0=ji($r.exports),J=rr,Wn=Tt,$s=Rt,Hs=we,k=_,$n=ji(Gb),j0=wt,R=Ea,B0=en,Us="DefaultChainId",Vs="DefaultJsonRpcUrl",F0=[1,10,137,61,56,250,42161,100,43114,3,4,5,42,69,80001,97,4002,421611,43113];class W0 extends D0.default{constructor(e){var t,n;super(),this._filterPolyfill=new j0.FilterPolyfill(this),this._subscriptionManager=new B0.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this._send=this.send.bind(this),this._sendAsync=this.sendAsync.bind(this),this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(t=e.overrideIsCoinbaseWallet)!==null&&t!==void 0?t:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl,this.supportsAddressSwitching=e.supportsAddressSwitching,this.isLedger=e.isLedger;const i=this.getChainId(),s=(0,k.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(Hs.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(c=>(0,k.ensureAddressString)(c)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",a=>{var c;if(a.data.type==="walletLinkMessage"){if(a.data.data.action==="defaultChainChanged"||a.data.data.action==="dappChainSwitched"){const u=a.data.data.chainId,l=(c=a.data.data.jsonRpcUrl)!==null&&c!==void 0?c:this.jsonRpcUrl;this.updateProviderInfo(l,Number(u))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,k.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(Vs))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(Vs,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,t){this.isLedger||this.isCoinbaseBrowser||(this._chainIdFromOpts=t,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this._jsonRpcUrlFromOpts,this._chainIdFromOpts)}updateProviderInfo(e,t){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(Us,t.toString(10)),((0,k.ensureIntNumber)(t)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,t,n,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,t,n,i,s,o==null?void 0:o.toString()).promise).result}async addEthereumChain(e,t,n,i,s,o){var a,c;if((0,k.ensureIntNumber)(e)===this.getChainId())return!1;const u=await this.initializeRelay(),l=u.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!l&&await u.requestEthereumAccounts().promise;const d=await u.addEthereumChain(e.toString(),t,s,n,i,o).promise;return((a=d.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(t[0],e),((c=d.result)===null||c===void 0?void 0:c.isApproved)===!0}async switchEthereumChain(e){F0.includes(e)&&this.updateProviderInfo(this.jsonRpcUrl,e);const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if(n.errorCode)throw J.ethErrors.provider.custom({code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,t){this.initializeRelay().then(n=>n.setAppInfo(e,t))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(Wn.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?$s.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0?[...this._addresses]:await this._send(R.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,t){if(typeof e=="string"){const i=e,s=Array.isArray(t)?t:t!==void 0?[t]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof t=="function"){const i=e,s=t;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,t){if(typeof t!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=t;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=t;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw J.ethErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:t,params:n}=e;if(typeof t!="string"||t.length===0)throw J.ethErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw J.ethErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:t,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){const n=await(await this.initializeRelay()).scanQRCode((0,k.ensureRegExpString)(e)).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}async genericRequest(e,t){const i=await(await this.initializeRelay()).genericRequest(e,t).promise;if(typeof i.result!="string")throw new Error("result was not a string");return i.result}async selectProvider(e){const n=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const t={jsonrpc:"2.0",id:e.id},{method:n}=e;if(t.result=this._handleSynchronousMethods(e),t.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return t}_setAddresses(e,t){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,k.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1&&!t||(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(Hs.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" "))))}_sendRequestAsync(e){return new Promise((t,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return t({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>t(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>t({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&t(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(t=>this._sendRequestAsync(t)))}_handleSynchronousMethods(e){const{method:t}=e,n=e.params||[];switch(t){case R.JSONRPCMethod.eth_accounts:return this._eth_accounts();case R.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case R.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case R.JSONRPCMethod.net_version:return this._net_version();case R.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:t}=e,n=e.params||[];switch(t){case R.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case R.JSONRPCMethod.eth_sign:return this._eth_sign(n);case R.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case R.JSONRPCMethod.personal_sign:return this._personal_sign(n);case R.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case R.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case R.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case R.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case R.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case R.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case R.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case R.JSONRPCMethod.eth_signTypedData_v4:case R.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case R.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case R.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case R.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case R.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:t}=e,n=e.params||[];switch(t){case R.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case R.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case R.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case R.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case R.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case R.JSONRPCMethod.eth_subscribe:case R.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const t=(0,k.ensureAddressString)(e);return this._addresses.map(i=>(0,k.ensureAddressString)(i)).includes(t)}catch{}return!1}_ensureKnownAddress(e){var t;if(!this._isKnownAddress(e))throw(t=this.diagnostic)===null||t===void 0||t.log(Wn.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const t=e.from?(0,k.ensureAddressString)(e.from):this.selectedAddress;if(!t)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(t);const n=e.to?(0,k.ensureAddressString)(e.to):null,i=e.value!=null?(0,k.ensureBN)(e.value):new P0.default(0),s=e.data?(0,k.ensureBuffer)(e.data):Buffer.alloc(0),o=e.nonce!=null?(0,k.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,k.ensureBN)(e.gasPrice):null,c=e.maxFeePerGas!=null?(0,k.ensureBN)(e.maxFeePerGas):null,u=e.maxPriorityFeePerGas!=null?(0,k.ensureBN)(e.maxPriorityFeePerGas):null,l=e.gas!=null?(0,k.ensureBN)(e.gas):null,d=this.getChainId();return{fromAddress:t,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:u,gasLimit:l,chainId:d}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw J.ethErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw J.ethErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,t,n,i){this._ensureKnownAddress(t);try{const o=await(await this.initializeRelay()).signEthereumMessage(e,t,n,i).promise;return{jsonrpc:"2.0",id:0,result:o.result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?J.ethErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,t,n){const s=await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,t,n).promise;return{jsonrpc:"2.0",id:0,result:s.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,k.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(Us);if(!e)return(0,k.ensureIntNumber)(this._chainIdFromOpts);const t=parseInt(e,10);return(0,k.ensureIntNumber)(t)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(Wn.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?$s.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let t;try{t=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?J.ethErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!t.result)throw new Error("accounts received is empty");return this._setAddresses(t.result),this.isLedger||this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const t=(0,k.ensureAddressString)(e[0]),n=(0,k.ensureBuffer)(e[1]);return this._signEthereumMessage(n,t,!1)}_eth_ecRecover(e){const t=(0,k.ensureBuffer)(e[0]),n=(0,k.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(t,n,!1)}_personal_sign(e){this._requireAuthorization();const t=(0,k.ensureBuffer)(e[0]),n=(0,k.ensureAddressString)(e[1]);return this._signEthereumMessage(t,n,!0)}_personal_ecRecover(e){const t=(0,k.ensureBuffer)(e[0]),n=(0,k.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(t,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const t=this._prepareTransactionParams(e[0]||{});try{const i=await(await this.initializeRelay()).signEthereumTransaction(t).promise;return{jsonrpc:"2.0",id:0,result:i.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?J.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const t=(0,k.ensureBuffer)(e[0]),i=await(await this.initializeRelay()).submitEthereumTransaction(t,this.getChainId()).promise;return{jsonrpc:"2.0",id:0,result:i.result}}async _eth_sendTransaction(e){this._requireAuthorization();const t=this._prepareTransactionParams(e[0]||{});try{const i=await(await this.initializeRelay()).signAndSubmitEthereumTransaction(t).promise;return{jsonrpc:"2.0",id:0,result:i.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?J.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const t=(0,k.ensureParsedJSONObject)(e[0]),n=(0,k.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=$n.default.hashForSignTypedDataLegacy({data:t}),s=JSON.stringify(t,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const t=(0,k.ensureAddressString)(e[0]),n=(0,k.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(t);const i=$n.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,t,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const t=(0,k.ensureAddressString)(e[0]),n=(0,k.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(t);const i=$n.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,t,!1,s)}async _cbwallet_arbitrary(e){const t=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof t!="object"||t===null)throw new Error("parameter must be an object");const i=await this.genericRequest(t,n);return{jsonrpc:"2.0",id:0,result:i}}async _wallet_addEthereumChain(e){var t,n,i,s;const o=e[0];if(((t=o.rpcUrls)===null||t===void 0?void 0:t.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw J.ethErrors.provider.custom({code:0,message:"chainName is a required field"});if(!o.nativeCurrency)throw J.ethErrors.provider.custom({code:0,message:"nativeCurrency is a required field"});const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const t=e[0];return await this.switchEthereumChain(parseInt(t.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const t=Array.isArray(e)?e[0]:e;if(!t.type)throw J.ethErrors.rpc.invalidParams({message:"Type is required"});if((t==null?void 0:t.type)!=="ERC20")throw J.ethErrors.rpc.invalidParams({message:`Asset of type '${t.type}' is not supported`});if(!(t!=null&&t.options))throw J.ethErrors.rpc.invalidParams({message:"Options are required"});if(!(t!=null&&t.options.address))throw J.ethErrors.rpc.invalidParams({message:"Address is required"});const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=t.options,c=await this.watchAsset(t.type,i,s,a,o,n);return{jsonrpc:"2.0",id:0,result:c}}_eth_uninstallFilter(e){const t=(0,k.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(t)}async _eth_newFilter(e){const t=e[0],n=await this._filterPolyfill.newFilter(t);return{jsonrpc:"2.0",id:0,result:n}}async _eth_newBlockFilter(){const e=await this._filterPolyfill.newBlockFilter();return{jsonrpc:"2.0",id:0,result:e}}async _eth_newPendingTransactionFilter(){const e=await this._filterPolyfill.newPendingTransactionFilter();return{jsonrpc:"2.0",id:0,result:e}}_eth_getFilterChanges(e){const t=(0,k.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(t)}_eth_getFilterLogs(e){const t=(0,k.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(t)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((t,n)=>this._setAddresses(t,n)),e.setChainCallback((t,n)=>{this.updateProviderInfo(n,parseInt(t,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}vt.CoinbaseWalletProvider=W0;var cn={},un={},hr,x,Ta,Ra,qt,zs,Na,jr={},Oa=[],$0=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Le(r,e){for(var t in e)r[t]=e[t];return r}function La(r){var e=r.parentNode;e&&e.removeChild(r)}function ui(r,e,t){var n,i,s,o={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?hr.call(arguments,2):t),typeof r=="function"&&r.defaultProps!=null)for(s in r.defaultProps)o[s]===void 0&&(o[s]=r.defaultProps[s]);return Gt(r,o,n,i,null)}function Gt(r,e,t,n,i){var s={type:r,props:e,key:t,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++Ta:i};return i==null&&x.vnode!=null&&x.vnode(s),s}function H0(){return{current:null}}function Lt(r){return r.children}function Qt(r,e){this.props=r,this.context=e}function St(r,e){if(e==null)return r.__?St(r.__,r.__.__k.indexOf(r)+1):null;for(var t;e<r.__k.length;e++)if((t=r.__k[e])!=null&&t.__e!=null)return t.__e;return typeof r.type=="function"?St(r):null}function Da(r){var e,t;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,e=0;e<r.__k.length;e++)if((t=r.__k[e])!=null&&t.__e!=null){r.__e=r.__c.base=t.__e;break}return Da(r)}}function li(r){(!r.__d&&(r.__d=!0)&&qt.push(r)&&!Br.__r++||zs!==x.debounceRendering)&&((zs=x.debounceRendering)||setTimeout)(Br)}function Br(){for(var r;Br.__r=qt.length;)r=qt.sort(function(e,t){return e.__v.__b-t.__v.__b}),qt=[],r.some(function(e){var t,n,i,s,o,a;e.__d&&(o=(s=(t=e).__v).__e,(a=t.__P)&&(n=[],(i=Le({},s)).__v=s.__v+1,Bi(a,s,i,t.__n,a.ownerSVGElement!==void 0,s.__h!=null?[o]:null,n,o==null?St(s):o,s.__h),Wa(n,s),s.__e!=o&&Da(s)))})}function Pa(r,e,t,n,i,s,o,a,c,u){var l,d,h,f,p,w,v,g=n&&n.__k||Oa,y=g.length;for(t.__k=[],l=0;l<e.length;l++)if((f=t.__k[l]=(f=e[l])==null||typeof f=="boolean"?null:typeof f=="string"||typeof f=="number"||typeof f=="bigint"?Gt(null,f,null,null,f):Array.isArray(f)?Gt(Lt,{children:f},null,null,null):f.__b>0?Gt(f.type,f.props,f.key,f.ref?f.ref:null,f.__v):f)!=null){if(f.__=t,f.__b=t.__b+1,(h=g[l])===null||h&&f.key==h.key&&f.type===h.type)g[l]=void 0;else for(d=0;d<y;d++){if((h=g[d])&&f.key==h.key&&f.type===h.type){g[d]=void 0;break}h=null}Bi(r,f,h=h||jr,i,s,o,a,c,u),p=f.__e,(d=f.ref)&&h.ref!=d&&(v||(v=[]),h.ref&&v.push(h.ref,null,f),v.push(d,f.__c||p,f)),p!=null?(w==null&&(w=p),typeof f.type=="function"&&f.__k===h.__k?f.__d=c=ja(f,c,r):c=Fa(r,f,h,g,p,c),typeof t.type=="function"&&(t.__d=c)):c&&h.__e==c&&c.parentNode!=r&&(c=St(h))}for(t.__e=w,l=y;l--;)g[l]!=null&&(typeof t.type=="function"&&g[l].__e!=null&&g[l].__e==t.__d&&(t.__d=St(n,l+1)),Ha(g[l],g[l]));if(v)for(l=0;l<v.length;l++)$a(v[l],v[++l],v[++l])}function ja(r,e,t){for(var n,i=r.__k,s=0;i&&s<i.length;s++)(n=i[s])&&(n.__=r,e=typeof n.type=="function"?ja(n,e,t):Fa(t,n,n,i,n.__e,e));return e}function Ba(r,e){return e=e||[],r==null||typeof r=="boolean"||(Array.isArray(r)?r.some(function(t){Ba(t,e)}):e.push(r)),e}function Fa(r,e,t,n,i,s){var o,a,c;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(t==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==r)r.appendChild(i),o=null;else{for(a=s,c=0;(a=a.nextSibling)&&c<n.length;c+=2)if(a==i)break e;r.insertBefore(i,s),o=s}return o!==void 0?o:i.nextSibling}function U0(r,e,t,n,i){var s;for(s in t)s==="children"||s==="key"||s in e||Fr(r,s,null,t[s],n);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||t[s]===e[s]||Fr(r,s,e[s],t[s],n)}function qs(r,e,t){e[0]==="-"?r.setProperty(e,t):r[e]=t==null?"":typeof t!="number"||$0.test(e)?t:t+"px"}function Fr(r,e,t,n,i){var s;e:if(e==="style")if(typeof t=="string")r.style.cssText=t;else{if(typeof n=="string"&&(r.style.cssText=n=""),n)for(e in n)t&&e in t||qs(r.style,e,"");if(t)for(e in t)n&&t[e]===n[e]||qs(r.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in r?e.toLowerCase().slice(2):e.slice(2),r.l||(r.l={}),r.l[e+s]=t,t?n||r.addEventListener(e,s?Qs:Gs,s):r.removeEventListener(e,s?Qs:Gs,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in r)try{r[e]=t==null?"":t;break e}catch{}typeof t=="function"||(t!=null&&(t!==!1||e[0]==="a"&&e[1]==="r")?r.setAttribute(e,t):r.removeAttribute(e))}}function Gs(r){this.l[r.type+!1](x.event?x.event(r):r)}function Qs(r){this.l[r.type+!0](x.event?x.event(r):r)}function Bi(r,e,t,n,i,s,o,a,c){var u,l,d,h,f,p,w,v,g,y,m,A,O,T=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(c=t.__h,a=e.__e=t.__e,e.__h=null,s=[a]),(u=x.__b)&&u(e);try{e:if(typeof T=="function"){if(v=e.props,g=(u=T.contextType)&&n[u.__c],y=u?g?g.props.value:u.__:n,t.__c?w=(l=e.__c=t.__c).__=l.__E:("prototype"in T&&T.prototype.render?e.__c=l=new T(v,y):(e.__c=l=new Qt(v,y),l.constructor=T,l.render=z0),g&&g.sub(l),l.props=v,l.state||(l.state={}),l.context=y,l.__n=n,d=l.__d=!0,l.__h=[]),l.__s==null&&(l.__s=l.state),T.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=Le({},l.__s)),Le(l.__s,T.getDerivedStateFromProps(v,l.__s))),h=l.props,f=l.state,d)T.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(T.getDerivedStateFromProps==null&&v!==h&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(v,y),!l.__e&&l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(v,l.__s,y)===!1||e.__v===t.__v){l.props=v,l.state=l.__s,e.__v!==t.__v&&(l.__d=!1),l.__v=e,e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(L){L&&(L.__=e)}),l.__h.length&&o.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(v,l.__s,y),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(h,f,p)})}if(l.context=y,l.props=v,l.__v=e,l.__P=r,m=x.__r,A=0,"prototype"in T&&T.prototype.render)l.state=l.__s,l.__d=!1,m&&m(e),u=l.render(l.props,l.state,l.context);else do l.__d=!1,m&&m(e),u=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++A<25);l.state=l.__s,l.getChildContext!=null&&(n=Le(Le({},n),l.getChildContext())),d||l.getSnapshotBeforeUpdate==null||(p=l.getSnapshotBeforeUpdate(h,f)),O=u!=null&&u.type===Lt&&u.key==null?u.props.children:u,Pa(r,Array.isArray(O)?O:[O],e,t,n,i,s,o,a,c),l.base=e.__e,e.__h=null,l.__h.length&&o.push(l),w&&(l.__E=l.__=null),l.__e=!1}else s==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=V0(t.__e,e,t,n,i,s,o,c);(u=x.diffed)&&u(e)}catch(L){e.__v=null,(c||s!=null)&&(e.__e=a,e.__h=!!c,s[s.indexOf(a)]=null),x.__e(L,e,t)}}function Wa(r,e){x.__c&&x.__c(e,r),r.some(function(t){try{r=t.__h,t.__h=[],r.some(function(n){n.call(t)})}catch(n){x.__e(n,t.__v)}})}function V0(r,e,t,n,i,s,o,a){var c,u,l,d=t.props,h=e.props,f=e.type,p=0;if(f==="svg"&&(i=!0),s!=null){for(;p<s.length;p++)if((c=s[p])&&"setAttribute"in c==!!f&&(f?c.localName===f:c.nodeType===3)){r=c,s[p]=null;break}}if(r==null){if(f===null)return document.createTextNode(h);r=i?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,h.is&&h),s=null,a=!1}if(f===null)d===h||a&&r.data===h||(r.data=h);else{if(s=s&&hr.call(r.childNodes),u=(d=t.props||jr).dangerouslySetInnerHTML,l=h.dangerouslySetInnerHTML,!a){if(s!=null)for(d={},p=0;p<r.attributes.length;p++)d[r.attributes[p].name]=r.attributes[p].value;(l||u)&&(l&&(u&&l.__html==u.__html||l.__html===r.innerHTML)||(r.innerHTML=l&&l.__html||""))}if(U0(r,h,d,i,a),l)e.__k=[];else if(p=e.props.children,Pa(r,Array.isArray(p)?p:[p],e,t,n,i&&f!=="foreignObject",s,o,s?s[0]:t.__k&&St(t,0),a),s!=null)for(p=s.length;p--;)s[p]!=null&&La(s[p]);a||("value"in h&&(p=h.value)!==void 0&&(p!==r.value||f==="progress"&&!p||f==="option"&&p!==d.value)&&Fr(r,"value",p,d.value,!1),"checked"in h&&(p=h.checked)!==void 0&&p!==r.checked&&Fr(r,"checked",p,d.checked,!1))}return r}function $a(r,e,t){try{typeof r=="function"?r(e):r.current=e}catch(n){x.__e(n,t)}}function Ha(r,e,t){var n,i;if(x.unmount&&x.unmount(r),(n=r.ref)&&(n.current&&n.current!==r.__e||$a(n,null,e)),(n=r.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){x.__e(s,e)}n.base=n.__P=null,r.__c=void 0}if(n=r.__k)for(i=0;i<n.length;i++)n[i]&&Ha(n[i],e,typeof r.type!="function");t||r.__e==null||La(r.__e),r.__=r.__e=r.__d=void 0}function z0(r,e,t){return this.constructor(r,t)}function Ua(r,e,t){var n,i,s;x.__&&x.__(r,e),i=(n=typeof t=="function")?null:t&&t.__k||e.__k,s=[],Bi(e,r=(!n&&t||e).__k=ui(Lt,null,[r]),i||jr,jr,e.ownerSVGElement!==void 0,!n&&t?[t]:i?null:e.firstChild?hr.call(e.childNodes):null,s,!n&&t?t:i?i.__e:e.firstChild,n),Wa(s,r)}function Va(r,e){Ua(r,e,Va)}function q0(r,e,t){var n,i,s,o=Le({},r.props);for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];return arguments.length>2&&(o.children=arguments.length>3?hr.call(arguments,2):t),Gt(r.type,o,n||r.key,i||r.ref,null)}function G0(r,e){var t={__c:e="__cC"+Na++,__:r,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(li)},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),n.children}};return t.Provider.__=t.Consumer.contextType=t}hr=Oa.slice,x={__e:function(r,e,t,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(r)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(r,n||{}),o=i.__d),o)return i.__E=i}catch(a){r=a}throw r}},Ta=0,Ra=function(r){return r!=null&&r.constructor===void 0},Qt.prototype.setState=function(r,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Le({},this.state),typeof r=="function"&&(r=r(Le({},t),this.props)),r&&Le(t,r),r!=null&&this.__v&&(e&&this.__h.push(e),li(this))},Qt.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),li(this))},Qt.prototype.render=Lt,qt=[],Br.__r=0,Na=0;var Q0=Object.freeze(Object.defineProperty({__proto__:null,Component:Qt,Fragment:Lt,cloneElement:q0,createContext:G0,createElement:ui,createRef:H0,h:ui,hydrate:Va,get isValidElement(){return Ra},get options(){return x},render:Ua,toChildArray:Ba},Symbol.toStringTag,{value:"Module"})),dr=Ct(Q0),ln={};function za(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r))for(e=0;e<r.length;e++)r[e]&&(t=za(r[e]))&&(n&&(n+=" "),n+=t);else for(e in r)r[e]&&(n&&(n+=" "),n+=e);return n}function Zs(){for(var r,e,t=0,n="";t<arguments.length;)(r=arguments[t++])&&(e=za(r))&&(n&&(n+=" "),n+=e);return n}var Z0=Object.freeze(Object.defineProperty({__proto__:null,clsx:Zs,default:Zs},Symbol.toStringTag,{value:"Module"})),qa=Ct(Z0),je,P,Hn,Ks,Et=0,Ga=[],Cr=[],Ys=x.__b,Js=x.__r,Xs=x.diffed,eo=x.__c,to=x.unmount;function at(r,e){x.__h&&x.__h(P,r,Et||e),Et=0;var t=P.__H||(P.__H={__:[],__h:[]});return r>=t.__.length&&t.__.push({__V:Cr}),t.__[r]}function Qa(r){return Et=1,Za(Ya,r)}function Za(r,e,t){var n=at(je++,2);if(n.t=r,!n.__c&&(n.__=[t?t(e):Ya(void 0,e),function(s){var o=n.__N?n.__N[0]:n.__[0],a=n.t(o,s);o!==a&&(n.__N=[a,n.__[1]],n.__c.setState({}))}],n.__c=P,!P.u)){P.u=!0;var i=P.shouldComponentUpdate;P.shouldComponentUpdate=function(s,o,a){if(!n.__c.__H)return!0;var c=n.__c.__H.__.filter(function(l){return l.__c});if(c.every(function(l){return!l.__N}))return!i||i.call(this,s,o,a);var u=!1;return c.forEach(function(l){if(l.__N){var d=l.__[0];l.__=l.__N,l.__N=void 0,d!==l.__[0]&&(u=!0)}}),!!u&&(!i||i.call(this,s,o,a))}}return n.__N||n.__}function K0(r,e){var t=at(je++,3);!x.__s&&Wi(t.__H,e)&&(t.__=r,t.i=e,P.__H.__h.push(t))}function Ka(r,e){var t=at(je++,4);!x.__s&&Wi(t.__H,e)&&(t.__=r,t.i=e,P.__h.push(t))}function Y0(r){return Et=5,Fi(function(){return{current:r}},[])}function J0(r,e,t){Et=6,Ka(function(){return typeof r=="function"?(r(e()),function(){return r(null)}):r?(r.current=e(),function(){return r.current=null}):void 0},t==null?t:t.concat(r))}function Fi(r,e){var t=at(je++,7);return Wi(t.__H,e)?(t.__V=r(),t.i=e,t.__h=r,t.__V):t.__}function X0(r,e){return Et=8,Fi(function(){return r},e)}function em(r){var e=P.context[r.__c],t=at(je++,9);return t.c=r,e?(t.__==null&&(t.__=!0,e.sub(P)),e.props.value):r.__}function tm(r,e){x.useDebugValue&&x.useDebugValue(e?e(r):r)}function rm(r){var e=at(je++,10),t=Qa();return e.__=r,P.componentDidCatch||(P.componentDidCatch=function(n,i){e.__&&e.__(n,i),t[1](n)}),[t[0],function(){t[1](void 0)}]}function nm(){var r=at(je++,11);return r.__||(r.__="P"+function(e){for(var t=0,n=e.length;n>0;)t=(t<<5)-t+e.charCodeAt(--n)|0;return t}(P.__v.o)+je),r.__}function im(){for(var r;r=Ga.shift();)if(r.__P&&r.__H)try{r.__H.__h.forEach(Mr),r.__H.__h.forEach(hi),r.__H.__h=[]}catch(e){r.__H.__h=[],x.__e(e,r.__v)}}x.__b=function(r){typeof r.type!="function"||r.o||r.type===Lt?r.o||(r.o=r.__&&r.__.o?r.__.o:""):r.o=(r.__&&r.__.o?r.__.o:"")+(r.__&&r.__.__k?r.__.__k.indexOf(r):0),P=null,Ys&&Ys(r)},x.__r=function(r){Js&&Js(r),je=0;var e=(P=r.__c).__H;e&&(Hn===P?(e.__h=[],P.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=Cr,t.__N=t.i=void 0})):(e.__h.forEach(Mr),e.__h.forEach(hi),e.__h=[])),Hn=P},x.diffed=function(r){Xs&&Xs(r);var e=r.__c;e&&e.__H&&(e.__H.__h.length&&(Ga.push(e)!==1&&Ks===x.requestAnimationFrame||((Ks=x.requestAnimationFrame)||sm)(im)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==Cr&&(t.__=t.__V),t.i=void 0,t.__V=Cr})),Hn=P=null},x.__c=function(r,e){e.some(function(t){try{t.__h.forEach(Mr),t.__h=t.__h.filter(function(n){return!n.__||hi(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],x.__e(n,t.__v)}}),eo&&eo(r,e)},x.unmount=function(r){to&&to(r);var e,t=r.__c;t&&t.__H&&(t.__H.__.forEach(function(n){try{Mr(n)}catch(i){e=i}}),t.__H=void 0,e&&x.__e(e,t.__v))};var ro=typeof requestAnimationFrame=="function";function sm(r){var e,t=function(){clearTimeout(n),ro&&cancelAnimationFrame(e),setTimeout(r)},n=setTimeout(t,100);ro&&(e=requestAnimationFrame(t))}function Mr(r){var e=P,t=r.__c;typeof t=="function"&&(r.__c=void 0,t()),P=e}function hi(r){var e=P;r.__c=r.__(),P=e}function Wi(r,e){return!r||r.length!==e.length||e.some(function(t,n){return t!==r[n]})}function Ya(r,e){return typeof e=="function"?e(r):e}var om=Object.freeze(Object.defineProperty({__proto__:null,useCallback:X0,useContext:em,useDebugValue:tm,useEffect:K0,useErrorBoundary:rm,useId:nm,useImperativeHandle:J0,useLayoutEffect:Ka,useMemo:Fi,useReducer:Za,useRef:Y0,useState:Qa},Symbol.toStringTag,{value:"Module"})),$i=Ct(om),hn={};Object.defineProperty(hn,"__esModule",{value:!0});hn.LIB_VERSION=void 0;hn.LIB_VERSION="3.5.3";var Hi={};Object.defineProperty(Hi,"__esModule",{value:!0});Hi.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTggMEMzLjU4IDAgMCAzLjU4IDAgOHMzLjU4IDggOCA4IDgtMy41OCA4LTgtMy41OC04LTgtOFptNS45MSA3aC0xLjk0Yy0uMS0xLjU3LS40Mi0zLS45MS00LjE1IDEuNDguODggMi41NSAyLjM4IDIuODUgNC4xNVpNOCAxNGMtLjQ1IDAtMS43Mi0xLjc3LTEuOTUtNWgzLjljLS4yMyAzLjIzLTEuNSA1LTEuOTUgNVpNNi4wNSA3QzYuMjggMy43NyA3LjU1IDIgOCAyYy40NSAwIDEuNzIgMS43NyAxLjk1IDVoLTMuOVpNNC45NCAyLjg1QzQuNDYgNCA0LjEzIDUuNDMgNC4wMyA3SDIuMDljLjMtMS43NyAxLjM3LTMuMjcgMi44NS00LjE1Wk0yLjA5IDloMS45NGMuMSAxLjU3LjQyIDMgLjkxIDQuMTVBNS45OTggNS45OTggMCAwIDEgMi4wOSA5Wm04Ljk3IDQuMTVjLjQ4LTEuMTUuODEtMi41OC45MS00LjE1aDEuOTRhNS45OTggNS45OTggMCAwIDEtMi44NSA0LjE1WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==";var Ui={};Object.defineProperty(Ui,"__esModule",{value:!0});Ui.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE1LjYzNSAyLjExN2EzLjg4OSAzLjg4OSAwIDAgMC01LjUyMSAwTDYuODkgNS4zMzVBMy44OTQgMy44OTQgMCAwIDAgNS44IDguNzM5Yy4wODMuNTA2LjI2OCAxLjAxMS41NTMgMS40NjYuMTUxLjI1My4zMzYuNDcyLjUzNy42OTFsLjYyMS42MjQgMS4xNDEtMS4xNDYtLjYyLS42MjRhMi4xMDUgMi4xMDUgMCAwIDEtLjQ4Ny0uNzQxIDIuMzQgMi4zNCAwIDAgMSAuNTAzLTIuNTFsMy4yMDYtMy4yMmEyLjI5MyAyLjI5MyAwIDAgMSAzLjIzOSAwYy44OS44OTQuODkgMi4zNDMgMCAzLjI1M2wtMS41MjcgMS41MzNjLjIzNC42NC4zMzUgMS4zMzEuMzAyIDIuMDA1bDIuMzgzLTIuMzkyYzEuNTEtMS41MzQgMS40OTMtNC4wMjgtLjAxNy01LjU2MVoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBkPSJNMTEuMjcxIDcuNzQ1YTMuMTMgMy4xMyAwIDAgMC0uNTU0LS42OWwtLjYyLS42MjQtMS4xNDIgMS4xNDYuNjIxLjYyM2MuMjE4LjIyLjM4Ni40ODkuNDg3Ljc1OC4zMzUuODI2LjE2NyAxLjgyLS41MDQgMi40OTRsLTMuMjA1IDMuMjE5YTIuMjkzIDIuMjkzIDAgMCAxLTMuMjQgMCAyLjMxNiAyLjMxNiAwIDAgMSAwLTMuMjUybDEuNTI4LTEuNTM0YTQuODE1IDQuODE1IDAgMCAxLS4yODUtMi4wMDVsLTIuMzgzIDIuMzkzYTMuOTI3IDMuOTI3IDAgMCAwIDAgNS41NDQgMy45MDkgMy45MDkgMCAwIDAgNS41MzggMGwzLjIwNS0zLjIxOWEzLjk1OCAzLjk1OCAwIDAgMCAxLjA5MS0zLjQwNCA0LjIxMSA0LjIxMSAwIDAgMC0uNTM3LTEuNDQ5WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==";var Vi={};Object.defineProperty(Vi,"__esModule",{value:!0});Vi.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEgN3Y5aDE0VjdIMVptNy41IDQuMzlWMTRoLTF2LTIuNjFjLS40NC0uMTktLjc1LS42My0uNzUtMS4xNGExLjI1IDEuMjUgMCAwIDEgMi41IDBjMCAuNTEtLjMxLjk1LS43NSAxLjE0Wk01LjY3IDZWNC4zM0M1LjY3IDMuMDUgNi43MSAyIDggMnMyLjMzIDEuMDUgMi4zMyAyLjMzVjZoMlY0LjMzQzEyLjMzIDEuOTQgMTAuMzkgMCA4IDBTMy42NyAxLjk0IDMuNjcgNC4zM1Y2aDJaIiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+";var zi={};Object.defineProperty(zi,"__esModule",{value:!0});zi.default=`<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="50" cy="50" r="50" fill="white"/>
<circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
<circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
</svg>

`;var dn={};function Ja(r){this.mode=ue.MODE_8BIT_BYTE,this.data=r,this.parsedData=[];for(var e=0,t=this.data.length;e<t;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}Ja.prototype={getLength:function(r){return this.parsedData.length},write:function(r){for(var e=0,t=this.parsedData.length;e<t;e++)r.put(this.parsedData[e],8)}};function Ie(r,e){this.typeNumber=r,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}Ie.prototype={addData:function(r){var e=new Ja(r);this.dataList.push(e),this.dataCache=null},isDark:function(r,e){if(r<0||this.moduleCount<=r||e<0||this.moduleCount<=e)throw new Error(r+","+e);return this.modules[r][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(r,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var t=0;t<this.moduleCount;t++){this.modules[t]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[t][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(r,e),this.typeNumber>=7&&this.setupTypeNumber(r),this.dataCache==null&&(this.dataCache=Ie.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(r,e){for(var t=-1;t<=7;t++)if(!(r+t<=-1||this.moduleCount<=r+t))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=t&&t<=6&&(n==0||n==6)||0<=n&&n<=6&&(t==0||t==6)||2<=t&&t<=4&&2<=n&&n<=4?this.modules[r+t][e+n]=!0:this.modules[r+t][e+n]=!1)},getBestMaskPattern:function(){for(var r=0,e=0,t=0;t<8;t++){this.makeImpl(!0,t);var n=W.getLostPoint(this);(t==0||r>n)&&(r=n,e=t)}return e},createMovieClip:function(r,e,t){var n=r.createEmptyMovieClip(e,t),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var c=a*i,u=this.modules[s][a];u&&(n.beginFill(0,100),n.moveTo(c,o),n.lineTo(c+i,o),n.lineTo(c+i,o+i),n.lineTo(c,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var r=8;r<this.moduleCount-8;r++)this.modules[r][6]==null&&(this.modules[r][6]=r%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var r=W.getPatternPosition(this.typeNumber),e=0;e<r.length;e++)for(var t=0;t<r.length;t++){var n=r[e],i=r[t];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(r){for(var e=W.getBCHTypeNumber(this.typeNumber),t=0;t<18;t++){var n=!r&&(e>>t&1)==1;this.modules[Math.floor(t/3)][t%3+this.moduleCount-8-3]=n}for(var t=0;t<18;t++){var n=!r&&(e>>t&1)==1;this.modules[t%3+this.moduleCount-8-3][Math.floor(t/3)]=n}},setupTypeInfo:function(r,e){for(var t=this.errorCorrectLevel<<3|e,n=W.getBCHTypeInfo(t),i=0;i<15;i++){var s=!r&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!r&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!r},mapData:function(r,e){for(var t=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var c=!1;s<r.length&&(c=(r[s]>>>i&1)==1);var u=W.getMask(e,n,o-a);u&&(c=!c),this.modules[n][o-a]=c,i--,i==-1&&(s++,i=7)}if(n+=t,n<0||this.moduleCount<=n){n-=t,t=-t;break}}}};Ie.PAD0=236;Ie.PAD1=17;Ie.createData=function(r,e,t){for(var n=Me.getRSBlocks(r,e),i=new Xa,s=0;s<t.length;s++){var o=t[s];i.put(o.mode,4),i.put(o.getLength(),W.getLengthInBits(o.mode,r)),o.write(i)}for(var a=0,s=0;s<n.length;s++)a+=n[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(Ie.PAD0,8),i.getLengthInBits()>=a*8));)i.put(Ie.PAD1,8);return Ie.createBytes(i,n)};Ie.createBytes=function(r,e){for(var t=0,n=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var c=e[a].dataCount,u=e[a].totalCount-c;n=Math.max(n,c),i=Math.max(i,u),s[a]=new Array(c);for(var l=0;l<s[a].length;l++)s[a][l]=255&r.buffer[l+t];t+=c;var d=W.getErrorCorrectPolynomial(u),h=new pt(s[a],d.getLength()-1),f=h.mod(d);o[a]=new Array(d.getLength()-1);for(var l=0;l<o[a].length;l++){var p=l+f.getLength()-o[a].length;o[a][l]=p>=0?f.get(p):0}}for(var w=0,l=0;l<e.length;l++)w+=e[l].totalCount;for(var v=new Array(w),g=0,l=0;l<n;l++)for(var a=0;a<e.length;a++)l<s[a].length&&(v[g++]=s[a][l]);for(var l=0;l<i;l++)for(var a=0;a<e.length;a++)l<o[a].length&&(v[g++]=o[a][l]);return v};var ue={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},Ve={L:1,M:0,Q:3,H:2},Fe={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},W={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(r){for(var e=r<<10;W.getBCHDigit(e)-W.getBCHDigit(W.G15)>=0;)e^=W.G15<<W.getBCHDigit(e)-W.getBCHDigit(W.G15);return(r<<10|e)^W.G15_MASK},getBCHTypeNumber:function(r){for(var e=r<<12;W.getBCHDigit(e)-W.getBCHDigit(W.G18)>=0;)e^=W.G18<<W.getBCHDigit(e)-W.getBCHDigit(W.G18);return r<<12|e},getBCHDigit:function(r){for(var e=0;r!=0;)e++,r>>>=1;return e},getPatternPosition:function(r){return W.PATTERN_POSITION_TABLE[r-1]},getMask:function(r,e,t){switch(r){case Fe.PATTERN000:return(e+t)%2==0;case Fe.PATTERN001:return e%2==0;case Fe.PATTERN010:return t%3==0;case Fe.PATTERN011:return(e+t)%3==0;case Fe.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2==0;case Fe.PATTERN101:return e*t%2+e*t%3==0;case Fe.PATTERN110:return(e*t%2+e*t%3)%2==0;case Fe.PATTERN111:return(e*t%3+(e+t)%2)%2==0;default:throw new Error("bad maskPattern:"+r)}},getErrorCorrectPolynomial:function(r){for(var e=new pt([1],0),t=0;t<r;t++)e=e.multiply(new pt([1,q.gexp(t)],0));return e},getLengthInBits:function(r,e){if(1<=e&&e<10)switch(r){case ue.MODE_NUMBER:return 10;case ue.MODE_ALPHA_NUM:return 9;case ue.MODE_8BIT_BYTE:return 8;case ue.MODE_KANJI:return 8;default:throw new Error("mode:"+r)}else if(e<27)switch(r){case ue.MODE_NUMBER:return 12;case ue.MODE_ALPHA_NUM:return 11;case ue.MODE_8BIT_BYTE:return 16;case ue.MODE_KANJI:return 10;default:throw new Error("mode:"+r)}else if(e<41)switch(r){case ue.MODE_NUMBER:return 14;case ue.MODE_ALPHA_NUM:return 13;case ue.MODE_8BIT_BYTE:return 16;case ue.MODE_KANJI:return 12;default:throw new Error("mode:"+r)}else throw new Error("type:"+e)},getLostPoint:function(r){for(var e=r.getModuleCount(),t=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=r.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var c=-1;c<=1;c++)i+c<0||e<=i+c||a==0&&c==0||o==r.isDark(n+a,i+c)&&s++;s>5&&(t+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var u=0;r.isDark(n,i)&&u++,r.isDark(n+1,i)&&u++,r.isDark(n,i+1)&&u++,r.isDark(n+1,i+1)&&u++,(u==0||u==4)&&(t+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)r.isDark(n,i)&&!r.isDark(n,i+1)&&r.isDark(n,i+2)&&r.isDark(n,i+3)&&r.isDark(n,i+4)&&!r.isDark(n,i+5)&&r.isDark(n,i+6)&&(t+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)r.isDark(n,i)&&!r.isDark(n+1,i)&&r.isDark(n+2,i)&&r.isDark(n+3,i)&&r.isDark(n+4,i)&&!r.isDark(n+5,i)&&r.isDark(n+6,i)&&(t+=40);for(var l=0,i=0;i<e;i++)for(var n=0;n<e;n++)r.isDark(n,i)&&l++;var d=Math.abs(100*l/e/e-50)/5;return t+=d*10,t}},q={glog:function(r){if(r<1)throw new Error("glog("+r+")");return q.LOG_TABLE[r]},gexp:function(r){for(;r<0;)r+=255;for(;r>=256;)r-=255;return q.EXP_TABLE[r]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Z=0;Z<8;Z++)q.EXP_TABLE[Z]=1<<Z;for(var Z=8;Z<256;Z++)q.EXP_TABLE[Z]=q.EXP_TABLE[Z-4]^q.EXP_TABLE[Z-5]^q.EXP_TABLE[Z-6]^q.EXP_TABLE[Z-8];for(var Z=0;Z<255;Z++)q.LOG_TABLE[q.EXP_TABLE[Z]]=Z;function pt(r,e){if(r.length==null)throw new Error(r.length+"/"+e);for(var t=0;t<r.length&&r[t]==0;)t++;this.num=new Array(r.length-t+e);for(var n=0;n<r.length-t;n++)this.num[n]=r[n+t]}pt.prototype={get:function(r){return this.num[r]},getLength:function(){return this.num.length},multiply:function(r){for(var e=new Array(this.getLength()+r.getLength()-1),t=0;t<this.getLength();t++)for(var n=0;n<r.getLength();n++)e[t+n]^=q.gexp(q.glog(this.get(t))+q.glog(r.get(n)));return new pt(e,0)},mod:function(r){if(this.getLength()-r.getLength()<0)return this;for(var e=q.glog(this.get(0))-q.glog(r.get(0)),t=new Array(this.getLength()),n=0;n<this.getLength();n++)t[n]=this.get(n);for(var n=0;n<r.getLength();n++)t[n]^=q.gexp(q.glog(r.get(n))+e);return new pt(t,0).mod(r)}};function Me(r,e){this.totalCount=r,this.dataCount=e}Me.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];Me.getRSBlocks=function(r,e){var t=Me.getRsBlockTable(r,e);if(t==null)throw new Error("bad rs block @ typeNumber:"+r+"/errorCorrectLevel:"+e);for(var n=t.length/3,i=[],s=0;s<n;s++)for(var o=t[s*3+0],a=t[s*3+1],c=t[s*3+2],u=0;u<o;u++)i.push(new Me(a,c));return i};Me.getRsBlockTable=function(r,e){switch(e){case Ve.L:return Me.RS_BLOCK_TABLE[(r-1)*4+0];case Ve.M:return Me.RS_BLOCK_TABLE[(r-1)*4+1];case Ve.Q:return Me.RS_BLOCK_TABLE[(r-1)*4+2];case Ve.H:return Me.RS_BLOCK_TABLE[(r-1)*4+3];default:return}};function Xa(){this.buffer=[],this.length=0}Xa.prototype={get:function(r){var e=Math.floor(r/8);return(this.buffer[e]>>>7-r%8&1)==1},put:function(r,e){for(var t=0;t<e;t++)this.putBit((r>>>e-t-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(r){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),r&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Un=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function ec(r){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof r=="string"&&(r={content:r}),r)for(var e in r)this.options[e]=r[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function t(c){switch(c){case"L":return Ve.L;case"M":return Ve.M;case"Q":return Ve.Q;case"H":return Ve.H;default:throw new Error("Unknwon error correction level: "+c)}}function n(c,u){for(var l=i(c),d=1,h=0,f=0,p=Un.length;f<=p;f++){var w=Un[f];if(!w)throw new Error("Content too long: expected "+h+" but got "+l);switch(u){case"L":h=w[0];break;case"M":h=w[1];break;case"Q":h=w[2];break;case"H":h=w[3];break;default:throw new Error("Unknwon error correction level: "+u)}if(l<=h)break;d++}if(d>Un.length)throw new Error("Content too long");return d}function i(c){var u=encodeURI(c).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return u.length+(u.length!=c?3:0)}var s=this.options.content,o=n(s,this.options.ecl),a=t(this.options.ecl);this.qrcode=new Ie(o,a),this.qrcode.addData(s),this.qrcode.make()}ec.prototype.svg=function(r){var e=this.options||{},t=this.qrcode.modules;typeof r=="undefined"&&(r={container:e.container||"svg"});for(var n=typeof e.pretty!="undefined"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=e.width,a=e.height,c=t.length,u=o/(c+2*e.padding),l=a/(c+2*e.padding),d=typeof e.join!="undefined"?!!e.join:!1,h=typeof e.swap!="undefined"?!!e.swap:!1,f=typeof e.xmlDeclaration!="undefined"?!!e.xmlDeclaration:!0,p=typeof e.predefined!="undefined"?!!e.predefined:!1,w=p?i+'<defs><path id="qrmodule" d="M0 0 h'+l+" v"+u+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",v=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,g="",y="",m=0;m<c;m++)for(var A=0;A<c;A++){var O=t[A][m];if(O){var T=A*u+e.padding*u,L=m*l+e.padding*l;if(h){var Be=T;T=L,L=Be}if(d){var ee=u+T,se=l+L;T=Number.isInteger(T)?Number(T):T.toFixed(2),L=Number.isInteger(L)?Number(L):L.toFixed(2),ee=Number.isInteger(ee)?Number(ee):ee.toFixed(2),se=Number.isInteger(se)?Number(se):se.toFixed(2),y+="M"+T+","+L+" V"+se+" H"+ee+" V"+L+" H"+T+" Z "}else p?g+=i+'<use x="'+T.toString()+'" y="'+L.toString()+'" href="#qrmodule" />'+s:g+=i+'<rect x="'+T.toString()+'" y="'+L.toString()+'" width="'+u+'" height="'+l+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}d&&(g=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+y+'" />');let te="";if(this.options.image!==void 0&&this.options.image.svg){const ae=o*this.options.image.width/100,ge=a*this.options.image.height/100,me=o/2-ae/2,Ke=a/2-ge/2;te+=`<svg x="${me}" y="${Ke}" width="${ae}" height="${ge}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,te+=this.options.image.svg+s,te+="</svg>"}var F="";switch(r.container){case"svg":f&&(F+='<?xml version="1.0" standalone="yes"?>'+s),F+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,F+=w+v+g,F+=te,F+="</svg>";break;case"svg-viewbox":f&&(F+='<?xml version="1.0" standalone="yes"?>'+s),F+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,F+=w+v+g,F+=te,F+="</svg>";break;case"g":F+='<g width="'+o+'" height="'+a+'">'+s,F+=w+v+g,F+=te,F+="</g>";break;default:F+=(w+v+g+te).replace(/^\s+/,"");break}return F};var am=ec,cm=N&&N.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(dn,"__esModule",{value:!0});dn.QRCode=void 0;const um=dr,no=$i,lm=cm(am),hm=r=>{const[e,t]=(0,no.useState)("");return(0,no.useEffect)(()=>{var n,i;const s=new lm.default({content:r.content,background:r.bgColor||"#ffffff",color:r.fgColor||"#000000",container:"svg",ecl:"M",width:(n=r.width)!==null&&n!==void 0?n:256,height:(i=r.height)!==null&&i!==void 0?i:256,padding:0,image:r.image}),o=Buffer.from(s.svg(),"utf8").toString("base64");t(`data:image/svg+xml;base64,${o}`)}),e?(0,um.h)("img",{src:e,alt:"QR Code"}):null};dn.QRCode=hm;var fn={},qi={};Object.defineProperty(qi,"__esModule",{value:!0});qi.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var dm=N&&N.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fn,"__esModule",{value:!0});fn.Spinner=void 0;const wr=dr,fm=dm(qi),pm=r=>{var e;const t=(e=r.size)!==null&&e!==void 0?e:64,n=r.color||"#000";return(0,wr.h)("div",{class:"-cbwsdk-spinner"},(0,wr.h)("style",null,fm.default),(0,wr.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:t,height:t}},(0,wr.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};fn.Spinner=pm;var Gi={};Object.defineProperty(Gi,"__esModule",{value:!0});Gi.default='.-cbwsdk-css-reset .-cbwsdk-extension-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box{display:flex;position:relative;max-width:500px;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top{display:flex;flex-direction:row;border-radius:8px;overflow:hidden;min-height:300px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top.dark{color:#fff;background-color:#000;box-shadow:0 4px 16px rgba(255,255,255,.05)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top.light{background-color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-subtext{margin-top:15px;font-size:12px;line-height:1.5}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;padding:32px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region button{display:block;border-radius:8px;background-color:#1652f0;color:#fff;width:90%;min-width:fit-content;height:44px;margin-top:16px;font-size:16px;padding-left:16px;padding-right:16px;cursor:pointer;font-weight:500;text-align:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region button.dark{background-color:#3773f5}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-info-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-info-region.light{background-color:#fafbfc}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-info-region.dark{background-color:#141519}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description{display:flex;flex-direction:row;align-items:center;padding-top:14px;padding-bottom:14px;padding-left:24px;padding-right:32px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-icon-wrapper{display:block;position:relative;width:40px;height:40px;flex-shrink:0;flex-grow:0;border-radius:20px;background-color:#fff;box-shadow:0px 0px 8px rgba(0,0,0,.04),0px 16px 24px rgba(0,0,0,.06)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-icon-wrapper img{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-text{margin-left:16px;flex-grow:1;font-size:13px;line-height:19px;align-self:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-text.light{color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-text.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom{display:flex;flex-direction:row;overflow:hidden;border-radius:8px;margin-top:8px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom.light{background-color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom.dark{background-color:#000;box-shadow:0 4px 16px rgba(255,255,255,.05)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description-region{display:flex;flex-direction:column;justify-content:center;padding:32px;flex-grow:1}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description{font-size:13px;line-height:19px;margin-top:12px;color:#aaa}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description.dark a{color:#3773f5}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description a{font-size:inherit;line-height:inherit;color:#1652f0;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-region{position:relative;flex-shrink:0;display:flex;flex-direction:column;justify-content:center;padding-left:24px;padding-right:24px;padding-top:16px;padding-bottom:16px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-wrapper{position:relative;display:block;padding:8px;border-radius:8px;box-shadow:0px 4px 12px rgba(0,0,0,.1);background-color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-wrapper img{display:block}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting.light>p{color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting.dark{background-color:rgba(20,21,25,.9)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:16px;right:16px;width:24px;height:24px;border-radius:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel.light{background-color:#fafbfc}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel.dark{background-color:#141519}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x.light::before,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x.light::after{background-color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x.dark::before,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x.dark::after{background-color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::before,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::after{content:"";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:1px;transition:background-color .2s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::before{transform:rotate(45deg)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::after{transform:rotate(135deg)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-a,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-b{background-color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-container-hidden{display:none}.-cbwsdk-css-reset .-cbwsdk-extension-dialog h2{display:block;text-align:left;font-size:22px;font-weight:600;line-height:28px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog h2.light{color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog h2.dark{color:#fff}';var Dt=N&&N.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ln,"__esModule",{value:!0});ln.TryExtensionLinkDialog=void 0;const Se=Dt(qa),M=dr,Zt=$i,bm=_,gm=hn,mm=Dt(Hi),vm=Dt(Ui),ym=Dt(Vi),_m=Dt(zi),wm=dn,Sm=fn,Em=Dt(Gi),xm=r=>{const{isOpen:e,darkMode:t}=r,[n,i]=(0,Zt.useState)(!e),[s,o]=(0,Zt.useState)(!e);(0,Zt.useEffect)(()=>{const c=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):c.push(window.setTimeout(()=>{i(!0)},360)),()=>{c.forEach(window.clearTimeout)}},[r.isOpen]);const a=t?"dark":"light";return(0,M.h)("div",{class:(0,Se.default)("-cbwsdk-extension-dialog-container",n&&"-cbwsdk-extension-dialog-container-hidden")},(0,M.h)("style",null,Em.default),(0,M.h)("div",{class:(0,Se.default)("-cbwsdk-extension-dialog-backdrop",a,s&&"-cbwsdk-extension-dialog-backdrop-hidden")}),(0,M.h)("div",{class:"-cbwsdk-extension-dialog"},(0,M.h)("div",{class:(0,Se.default)("-cbwsdk-extension-dialog-box",s&&"-cbwsdk-extension-dialog-box-hidden")},(0,M.h)(km,{darkMode:t,onInstallClick:()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")}}),r.connectDisabled?null:(0,M.h)(Cm,{darkMode:t,version:r.version,sessionId:r.sessionId,sessionSecret:r.sessionSecret,linkAPIUrl:r.linkAPIUrl,isConnected:r.isConnected,isParentConnection:r.isParentConnection,chainId:r.chainId}),r.onCancel&&(0,M.h)(Mm,{darkMode:t,onClick:r.onCancel}))))};ln.TryExtensionLinkDialog=xm;const km=({darkMode:r,onInstallClick:e})=>{const[t,n]=(0,Zt.useState)(!1),i=(0,Zt.useCallback)(()=>{t?window.location.reload():(e(),n(!0))},[e,t]),s=r?"dark":"light";return(0,M.h)("div",{class:(0,Se.default)("-cbwsdk-extension-dialog-box-top",s)},(0,M.h)("div",{class:"-cbwsdk-extension-dialog-box-top-install-region"},(0,M.h)("h2",{class:s},"Try the Coinbase Wallet extension"),t&&(0,M.h)("div",{class:"-cbwsdk-extension-dialog-box-top-subtext"},"After installing Coinbase Wallet, refresh the page and connect again."),(0,M.h)("button",{type:"button",onClick:i},t?"Refresh":"Install")),(0,M.h)("div",{class:(0,Se.default)("-cbwsdk-extension-dialog-box-top-info-region",s)},(0,M.h)(Vn,{darkMode:r,icon:vm.default,text:"Connect to crypto apps with one click"}),(0,M.h)(Vn,{darkMode:r,icon:ym.default,text:"Your private key is stored securely"}),(0,M.h)(Vn,{darkMode:r,icon:mm.default,text:"Works with Ethereum, Polygon, and more"})))},Cm=r=>{const e=(0,bm.createQrUrl)(r.sessionId,r.sessionSecret,r.linkAPIUrl,r.isParentConnection,r.version,r.chainId),t=r.darkMode?"dark":"light";return(0,M.h)("div",{"data-testid":"scan-qr-box",class:(0,Se.default)("-cbwsdk-extension-dialog-box-bottom",t)},(0,M.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-description-region"},(0,M.h)("h2",{class:t},"Or scan to connect"),(0,M.h)("body",{class:(0,Se.default)("-cbwsdk-extension-dialog-box-bottom-description",t)},"Open"," ",(0,M.h)("a",{href:"https://wallet.coinbase.com/",target:"_blank",rel:"noopener noreferrer"},"Coinbase Wallet")," ","on your mobile phone and scan")),(0,M.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-qr-region"},(0,M.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-qr-wrapper"},(0,M.h)(wm.QRCode,{content:e,width:150,height:150,fgColor:"#000",bgColor:"transparent",image:{svg:_m.default,width:34,height:34}})),(0,M.h)("input",{type:"hidden",name:"cbwsdk-version",value:gm.LIB_VERSION}),(0,M.h)("input",{type:"hidden",value:e}),!r.isConnected&&(0,M.h)("div",{"data-testid":"connecting-spinner",class:(0,Se.default)("-cbwsdk-extension-dialog-box-bottom-qr-connecting",t)},(0,M.h)(Sm.Spinner,{size:36,color:r.darkMode?"#FFF":"#000"}),(0,M.h)("p",null,"Connecting..."))))},Vn=r=>{const e=r.darkMode?"dark":"light";return(0,M.h)("div",{class:"-cbwsdk-extension-dialog-box-top-description"},(0,M.h)("div",{class:"-cbwsdk-extension-dialog-box-top-description-icon-wrapper"},(0,M.h)("img",{src:r.icon})),(0,M.h)("body",{class:(0,Se.default)("-cbwsdk-extension-dialog-box-top-description-text",e)},r.text))},Mm=r=>{const e=r.darkMode?"dark":"light";return(0,M.h)("button",{type:"button",class:(0,Se.default)("-cbwsdk-extension-dialog-box-cancel",e),onClick:r.onClick},(0,M.h)("div",{class:(0,Se.default)("-cbwsdk-extension-dialog-box-cancel-x",e)}))};Object.defineProperty(un,"__esModule",{value:!0});un.LinkFlow=void 0;const zn=dr,io=Nt,Im=ln;class Am{constructor(e){this.extensionUI$=new io.BehaviorSubject({}),this.subscriptions=new io.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(t=>{this.isConnected!==t&&(this.isConnected=t,this.render())})),this.subscriptions.add(this.chainId$.subscribe(t=>{this.chainId!==t&&(this.chainId=t,this.render())}))}detach(){var e;!this.root||(this.subscriptions.unsubscribe(),(0,zn.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{!this.root||(0,zn.render)((0,zn.h)(Im.TryExtensionLinkDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}un.LinkFlow=Am;var tc={},Qi={};Object.defineProperty(Qi,"__esModule",{value:!0});Qi.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(r){var e=N&&N.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(r,"__esModule",{value:!0}),r.SnackbarInstance=r.SnackbarContainer=r.Snackbar=void 0;const t=e(qa),n=dr,i=$i,s=e(Qi),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",a="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class c{constructor(h){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=h.darkMode}attach(h){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",h.appendChild(this.root),this.render()}presentItem(h){const f=this.nextItemKey++;return this.items.set(f,h),this.render(),()=>{this.items.delete(f),this.render()}}clear(){this.items.clear(),this.render()}render(){!this.root||(0,n.render)((0,n.h)("div",null,(0,n.h)(r.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([h,f])=>(0,n.h)(r.SnackbarInstance,Object.assign({},f,{key:h}))))),this.root)}}r.Snackbar=c;const u=d=>(0,n.h)("div",{class:(0,t.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},d.children));r.SnackbarContainer=u;const l=({autoExpand:d,message:h,menuItems:f})=>{const[p,w]=(0,i.useState)(!0),[v,g]=(0,i.useState)(d!=null?d:!1);(0,i.useEffect)(()=>{const m=[window.setTimeout(()=>{w(!1)},1),window.setTimeout(()=>{g(!0)},1e4)];return()=>{m.forEach(window.clearTimeout)}});const y=()=>{g(!v)};return(0,n.h)("div",{class:(0,t.default)("-cbwsdk-snackbar-instance",p&&"-cbwsdk-snackbar-instance-hidden",v&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:y},(0,n.h)("img",{src:o,class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},h),(0,n.h)("div",{class:"-gear-container"},!v&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:a,class:"-gear-icon",title:"Expand"}))),f&&f.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},f.map((m,A)=>(0,n.h)("div",{class:(0,t.default)("-cbwsdk-snackbar-instance-menu-item",m.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:m.onClick,key:A},(0,n.h)("svg",{width:m.svgWidth,height:m.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":m.defaultFillRule,"clip-rule":m.defaultClipRule,d:m.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,t.default)("-cbwsdk-snackbar-instance-menu-item-info",m.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},m.info)))))};r.SnackbarInstance=l})(tc);var pn={},Zi={};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;bottom:auto;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:block;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";right:auto;tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;width:auto;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset *{box-sizing:border-box;display:initial;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var Tm=N&&N.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(pn,"__esModule",{value:!0});pn.injectCssReset=void 0;const Rm=Tm(Zi);function Nm(){const r=document.createElement("style");r.type="text/css",r.appendChild(document.createTextNode(Rm.default)),document.documentElement.appendChild(r)}pn.injectCssReset=Nm;Object.defineProperty(cn,"__esModule",{value:!0});cn.WalletSDKUI=void 0;const Om=un,Lm=tc,Dm=pn;class Pm{constructor(e){this.standalone=null,this.attached=!1,this.snackbar=new Lm.Snackbar({darkMode:e.darkMode}),this.linkFlow=new Om.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,t=document.createElement("div");t.className="-cbwsdk-css-reset",e.appendChild(t),this.linkFlow.attach(t),this.snackbar.attach(t),this.attached=!0,(0,Dm.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let t;return e.isUnlinkedErrorState?t={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:t={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(t)}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}cn.WalletSDKUI=Pm;var bn={},gn={};Object.defineProperty(gn,"__esModule",{value:!0});var ht;(function(r){r.typeOfFunction="function",r.boolTrue=!0})(ht||(ht={}));function rc(r,e,t){if(!t||typeof t.value!==ht.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:ht.boolTrue,get:function(){var n=t.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:ht.boolTrue,writable:ht.boolTrue}),n}}}gn.bind=rc;gn.default=rc;var mn={},fe={};Object.defineProperty(fe,"__esModule",{value:!0});fe.ClientMessagePublishEvent=fe.ClientMessageSetSessionConfig=fe.ClientMessageGetSessionConfig=fe.ClientMessageIsLinked=fe.ClientMessageHostSession=void 0;function jm(r){return Object.assign({type:"HostSession"},r)}fe.ClientMessageHostSession=jm;function Bm(r){return Object.assign({type:"IsLinked"},r)}fe.ClientMessageIsLinked=Bm;function Fm(r){return Object.assign({type:"GetSessionConfig"},r)}fe.ClientMessageGetSessionConfig=Fm;function Wm(r){return Object.assign({type:"SetSessionConfig"},r)}fe.ClientMessageSetSessionConfig=Wm;function $m(r){return Object.assign({type:"PublishEvent"},r)}fe.ClientMessagePublishEvent=$m;var nc={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.RxWebSocket=r.ConnectionState=void 0;const e=Nt,t=Yr;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=r.ConnectionState||(r.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(c){o.error(c);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=c=>{this.clearWebSocket(),o.error(new Error(`websocket error ${c.code}: ${c.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=c=>{o.next(),o.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=c=>{this.incomingDataSubject.next(c.data)}}).pipe((0,t.take)(1))}disconnect(){const{webSocket:o}=this;if(!!o){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,t.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;!o||(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}r.RxWebSocket=i})(nc);var vn={};Object.defineProperty(vn,"__esModule",{value:!0});vn.isServerMessageFail=void 0;function Hm(r){return r&&r.type==="Fail"&&typeof r.id=="number"&&typeof r.sessionId=="string"&&typeof r.error=="string"}vn.isServerMessageFail=Hm;Object.defineProperty(mn,"__esModule",{value:!0});mn.WalletSDKConnection=void 0;const ve=Nt,I=Yr,Bt=Rt,ut=ir,Ft=fe,Wt=Tt,Sr=nc,qn=vn,so=1e4,Um=6e4;class Vm{constructor(e,t,n,i,s=WebSocket){this.sessionId=e,this.sessionKey=t,this.diagnostic=i,this.subscriptions=new ve.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,ut.IntNumber)(1),this.connectedSubject=new ve.BehaviorSubject(!1),this.linkedSubject=new ve.BehaviorSubject(!1),this.sessionConfigSubject=new ve.ReplaySubject(1);const o=new Sr.RxWebSocket(n+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,I.tap)(a=>{var c;return(c=this.diagnostic)===null||c===void 0?void 0:c.log(Wt.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:Bt.Session.hash(e)})}),(0,I.skip)(1),(0,I.filter)(a=>a===Sr.ConnectionState.DISCONNECTED&&!this.destroyed),(0,I.delay)(5e3),(0,I.filter)(a=>!this.destroyed),(0,I.flatMap)(a=>o.connect()),(0,I.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,I.skip)(2),(0,I.switchMap)(a=>(0,ve.iif)(()=>a===Sr.ConnectionState.CONNECTED,this.authenticate().pipe((0,I.tap)(c=>this.sendIsLinked()),(0,I.tap)(c=>this.sendGetSessionConfig()),(0,I.map)(c=>!0)),(0,ve.of)(!1))),(0,I.distinctUntilChanged)(),(0,I.catchError)(a=>(0,ve.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,I.skip)(1),(0,I.switchMap)(a=>(0,ve.iif)(()=>a===Sr.ConnectionState.CONNECTED,(0,ve.timer)(0,so)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,I.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,I.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(Wt.EVENTS.LINKED,{sessionIdHash:Bt.Session.hash(e),linked:u.linked,type:a.type,onlineGuests:u.onlineGuests}),this.linkedSubject.next(u.linked||u.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,I.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(Wt.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Bt.Session.hash(e),metadata_keys:u&&u.metadata?Object.keys(u.metadata):void 0}),this.sessionConfigSubject.next({webhookId:u.webhookId,webhookUrl:u.webhookUrl,metadata:u.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(Wt.EVENTS.STARTED_CONNECTING,{sessionIdHash:Bt.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(Wt.EVENTS.DISCONNECTED,{sessionIdHash:Bt.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,I.filter)(e=>e),(0,I.take)(1),(0,I.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,I.filter)(e=>e),(0,I.take)(1),(0,I.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,I.filter)(e=>{if(e.type!=="Event")return!1;const t=e;return typeof t.sessionId=="string"&&typeof t.eventId=="string"&&typeof t.event=="string"&&typeof t.data=="string"}),(0,I.map)(e=>e))}setSessionMetadata(e,t){const n=(0,Ft.ClientMessageSetSessionConfig)({id:(0,ut.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:t}});return this.onceConnected$.pipe((0,I.flatMap)(i=>this.makeRequest(n)),(0,I.map)(i=>{if((0,qn.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,t,n=!1){const i=(0,Ft.ClientMessagePublishEvent)({id:(0,ut.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:t,callWebhook:n});return this.onceLinked$.pipe((0,I.flatMap)(s=>this.makeRequest(i)),(0,I.map)(s=>{if((0,qn.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>so*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,t=Um){const n=e.id;try{this.sendData(e)}catch(i){return(0,ve.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,I.timeoutWith)(t,(0,ve.throwError)(new Error(`request ${n} timed out`))),(0,I.filter)(i=>i.id===n),(0,I.take)(1))}authenticate(){const e=(0,Ft.ClientMessageHostSession)({id:(0,ut.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,I.map)(t=>{if((0,qn.isServerMessageFail)(t))throw new Error(t.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,Ft.ClientMessageIsLinked)({id:(0,ut.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,Ft.ClientMessageGetSessionConfig)({id:(0,ut.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}mn.WalletSDKConnection=Vm;var yn={};Object.defineProperty(yn,"__esModule",{value:!0});yn.WalletUIError=void 0;class er extends Error{constructor(e,t){super(e),this.message=e,this.errorCode=t}}yn.WalletUIError=er;er.UserRejectedRequest=new er("User rejected request");er.SwitchEthereumChainUnsupportedChainId=new er("Unsupported chainId",4902);var xt={};Object.defineProperty(xt,"__esModule",{value:!0});xt.decrypt=xt.encrypt=void 0;const zm=Nt,Wr=_;async function qm(r,e){if(e.length!==64)throw Error("secret must be 256 bits");const t=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,Wr.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:t},n,i.encode(r)),o=16,a=s.slice(s.byteLength-o),c=s.slice(0,s.byteLength-o),u=new Uint8Array(a),l=new Uint8Array(c),d=new Uint8Array([...t,...u,...l]);return(0,Wr.uint8ArrayToHex)(d)}xt.encrypt=qm;function Gm(r,e){if(e.length!==64)throw Error("secret must be 256 bits");return new zm.Observable(t=>{(async function(){const n=await crypto.subtle.importKey("raw",(0,Wr.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=(0,Wr.hexStringToUint8Array)(r),s=i.slice(0,12),o=i.slice(12,28),a=i.slice(28),c=new Uint8Array([...a,...o]),u={name:"AES-GCM",iv:new Uint8Array(s)};try{const l=await window.crypto.subtle.decrypt(u,n,c),d=new TextDecoder;t.next(d.decode(l)),t.complete()}catch(l){t.error(l)}})()})}xt.decrypt=Gm;var Ki={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(r.Web3Method||(r.Web3Method={}))})(Ki);var _n={},wn={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(r.RelayMessageType||(r.RelayMessageType={}))})(wn);Object.defineProperty(_n,"__esModule",{value:!0});_n.Web3RequestCanceledMessage=void 0;const Qm=wn;function Zm(r){return{type:Qm.RelayMessageType.WEB3_REQUEST_CANCELED,id:r}}_n.Web3RequestCanceledMessage=Zm;var Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.Web3RequestMessage=void 0;const Km=wn;function Ym(r){return Object.assign({type:Km.RelayMessageType.WEB3_REQUEST},r)}Sn.Web3RequestMessage=Ym;var B={};Object.defineProperty(B,"__esModule",{value:!0});B.EthereumAddressFromSignedMessageResponse=B.SubmitEthereumTransactionResponse=B.SignEthereumTransactionResponse=B.SignEthereumMessageResponse=B.isRequestEthereumAccountsResponse=B.SelectProviderResponse=B.WatchAssetReponse=B.RequestEthereumAccountsResponse=B.SwitchEthereumChainResponse=B.AddEthereumChainResponse=B.ErrorResponse=void 0;const Re=Ki;function Jm(r,e,t){return{method:r,errorMessage:e,errorCode:t}}B.ErrorResponse=Jm;function Xm(r){return{method:Re.Web3Method.addEthereumChain,result:r}}B.AddEthereumChainResponse=Xm;function ev(r){return{method:Re.Web3Method.switchEthereumChain,result:r}}B.SwitchEthereumChainResponse=ev;function tv(r){return{method:Re.Web3Method.requestEthereumAccounts,result:r}}B.RequestEthereumAccountsResponse=tv;function rv(r){return{method:Re.Web3Method.watchAsset,result:r}}B.WatchAssetReponse=rv;function nv(r){return{method:Re.Web3Method.selectProvider,result:r}}B.SelectProviderResponse=nv;function iv(r){return r&&r.method===Re.Web3Method.requestEthereumAccounts}B.isRequestEthereumAccountsResponse=iv;function sv(r){return{method:Re.Web3Method.signEthereumMessage,result:r}}B.SignEthereumMessageResponse=sv;function ov(r){return{method:Re.Web3Method.signEthereumTransaction,result:r}}B.SignEthereumTransactionResponse=ov;function av(r){return{method:Re.Web3Method.submitEthereumTransaction,result:r}}B.SubmitEthereumTransactionResponse=av;function cv(r){return{method:Re.Web3Method.ethereumAddressFromSignedMessage,result:r}}B.EthereumAddressFromSignedMessageResponse=cv;var kt={};Object.defineProperty(kt,"__esModule",{value:!0});kt.isWeb3ResponseMessage=kt.Web3ResponseMessage=void 0;const ic=wn;function uv(r){return Object.assign({type:ic.RelayMessageType.WEB3_RESPONSE},r)}kt.Web3ResponseMessage=uv;function lv(r){return r&&r.type===ic.RelayMessageType.WEB3_RESPONSE}kt.isWeb3ResponseMessage=lv;var hv=N&&N.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),dv=N&&N.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),sc=N&&N.__decorate||function(r,e,t,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},fv=N&&N.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&hv(e,r,t);return dv(e,r),e},pv=N&&N.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(bn,"__esModule",{value:!0});bn.WalletSDKRelay=void 0;const oc=pv(gn),oo=rr,$t=Nt,G=Yr,re=Tt,bv=mn,Gn=yn,gv=ir,j=_,Ye=fv(xt),We=Rt,Er=we,V=Ki,mv=_n,vv=Sn,ce=B,ne=kt;class _e extends Er.WalletSDKRelayAbstract{constructor(e){var t;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new $t.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new $t.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(t=e.reloadOnDisconnect)!==null&&t!==void 0?t:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=We.Session.load(this.storage)||new We.Session(this.storage).save(),t=new bv.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(t.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(re.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(t.incomingEvent$.pipe((0,G.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(t.linked$.pipe((0,G.skip)(1),(0,G.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(Er.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!c){this.isUnlinkedErrorState=!0;const u=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(re.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:u})}}})).subscribe()),this.subscriptions.add(t.sessionConfig$.pipe((0,G.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=t.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(re.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(t.sessionConfig$.pipe((0,G.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,G.mergeMap)(i=>Ye.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(Er.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(re.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(t.sessionConfig$.pipe((0,G.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,G.mergeMap)(i=>Ye.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(Er.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(re.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(t.sessionConfig$.pipe((0,G.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,G.mergeMap)(i=>(0,$t.zip)(Ye.decrypt(i.metadata.ChainId,e.secret),Ye.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,G.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(re.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(t.sessionConfig$.pipe((0,G.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,G.mergeMap)(i=>Ye.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),_e.accountRequestCallbackIds.size>0&&(Array.from(_e.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,ne.Web3ResponseMessage)({id:s,response:(0,ce.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),_e.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(re.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:t.connected$,chainId$:this.dappDefaultChainSubject});return t.connect(),{session:e,ui:n,connection:t}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,G.timeout)(1e3),(0,G.catchError)(e=>(0,$t.of)(null))).subscribe(e=>{var t,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(t=this.diagnostic)===null||t===void 0||t.log(re.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(re.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=We.Session.load(this.storage);if((o==null?void 0:o.id)===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(re.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:We.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0);const{session:a,ui:c,connection:u}=this.subscribe();this._session=a,this.connection=u,this.ui=c,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var t;(t=this.diagnostic)===null||t===void 0||t.log(re.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,t){this.appName=e,this.appLogoUrl=t}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,t){this.storage.setItem(e,t)}signEthereumMessage(e,t,n,i){return this.sendRequest({method:V.Web3Method.signEthereumMessage,params:{message:(0,j.hexStringFromBuffer)(e,!0),address:t,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,t,n){return this.sendRequest({method:V.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,j.hexStringFromBuffer)(e,!0),signature:(0,j.hexStringFromBuffer)(t,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:V.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,j.bigIntStringFromBN)(e.weiValue),data:(0,j.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,j.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,j.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,j.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,j.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:V.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,j.bigIntStringFromBN)(e.weiValue),data:(0,j.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,j.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,j.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,j.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,j.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,t){return this.sendRequest({method:V.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,j.hexStringFromBuffer)(e,!0),chainId:t}})}scanQRCode(e){return this.sendRequest({method:V.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,j.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,t){return this.sendRequest({method:V.Web3Method.generic,params:{action:t,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let t=null;const n=(0,j.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,o),t==null||t()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(t=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,c=>{if(t==null||t(),c.errorMessage)return a(new Error(c.errorMessage));o(c)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,t){var n;const i=(0,vv.Web3RequestMessage)({id:e,request:t}),s=We.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(re.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?We.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(re.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?We.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,ne.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const t=(0,mv.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",t,!1).subscribe())}publishEvent(e,t,n){const i=this.session.secret;return new $t.Observable(s=>{Ye.encrypt(JSON.stringify(Object.assign(Object.assign({},t),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,G.mergeMap)(s=>this.connection.publishEvent(e,s,n)))}handleIncomingEvent(e){try{this.subscriptions.add(Ye.decrypt(e.data,this.session.secret).pipe((0,G.map)(t=>JSON.parse(t))).subscribe({next:t=>{const n=(0,ne.isWeb3ResponseMessage)(t)?t:null;!n||this.handleWeb3ResponseMessage(n)},error:()=>{var t;(t=this.diagnostic)===null||t===void 0||t.log(re.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var t;const{response:n}=e;if((t=this.diagnostic)===null||t===void 0||t.log(re.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,ce.isRequestEthereumAccountsResponse)(n)){_e.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),_e.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,t,n,i){this.handleWeb3ResponseMessage((0,ne.Web3ResponseMessage)({id:e,response:(0,ce.ErrorResponse)(t,(n!=null?n:Gn.WalletUIError.UserRejectedRequest).message,i)}))}invokeCallback(e){const t=this.relayEventManager.callbacks.get(e.id);t&&(t(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:V.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},t=(0,j.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(t),this.handleErrorResponse(t,e.method,s)};return{promise:new Promise((s,o)=>{var a;this.relayEventManager.callbacks.set(t,u=>{if(this.ui.hideRequestEthereumAccounts(),u.errorMessage)return o(new Error(u.errorMessage));s(u)});const c=((a=window==null?void 0:window.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(c&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c)){let u;try{(0,j.isInIFrame)()&&window.top?u=window.top.location:u=window.location}catch{u=window.location}u.href=`https://go.cb-w.com/xoXnYwQimhb?cb_url=${encodeURIComponent(u.href)}`;return}if(this.ui.inlineAccountsResponse()){const u=l=>{this.handleWeb3ResponseMessage((0,ne.Web3ResponseMessage)({id:t,response:(0,ce.RequestEthereumAccountsResponse)(l)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:u})}else{const u=oo.ethErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(u)})}_e.accountRequestCallbackIds.add(t),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(t,e)}),cancel:n}}selectProvider(e){const t={method:V.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,j.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,t.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,l=>{if(l.errorMessage)return a(new Error(l.errorMessage));o(l)});const c=l=>{this.handleWeb3ResponseMessage((0,ne.Web3ResponseMessage)({id:n,response:(0,ce.SelectProviderResponse)(gv.ProviderType.Unselected)}))},u=l=>{this.handleWeb3ResponseMessage((0,ne.Web3ResponseMessage)({id:n,response:(0,ce.SelectProviderResponse)(l)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:u,onCancel:c,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,t,n,i,s,o){const a={method:V.Web3Method.watchAsset,params:{type:e,options:{address:t,symbol:n,decimals:i,image:s},chainId:o}};let c=null;const u=(0,j.randomBytesHex)(8),l=h=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,h),c==null||c()};this.ui.inlineWatchAsset()||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload}));const d=new Promise((h,f)=>{this.relayEventManager.callbacks.set(u,v=>{if(c==null||c(),v.errorMessage)return f(new Error(v.errorMessage));h(v)});const p=v=>{this.handleWeb3ResponseMessage((0,ne.Web3ResponseMessage)({id:u,response:(0,ce.WatchAssetReponse)(!1)}))},w=()=>{this.handleWeb3ResponseMessage((0,ne.Web3ResponseMessage)({id:u,response:(0,ce.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:w,onCancel:p,type:e,address:t,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)});return{cancel:l,promise:d}}addEthereumChain(e,t,n,i,s,o){const a={method:V.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:t,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let c=null;const u=(0,j.randomBytesHex)(8),l=h=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,h),c==null||c()};return this.ui.inlineAddEthereumChain(e)||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload})),{promise:new Promise((h,f)=>{this.relayEventManager.callbacks.set(u,v=>{if(c==null||c(),v.errorMessage)return f(new Error(v.errorMessage));h(v)});const p=v=>{this.handleWeb3ResponseMessage((0,ne.Web3ResponseMessage)({id:u,response:(0,ce.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},w=v=>{this.handleWeb3ResponseMessage((0,ne.Web3ResponseMessage)({id:u,response:(0,ce.AddEthereumChainResponse)({isApproved:!0,rpcUrl:v})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:p,onApprove:w,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)}),cancel:l}}switchEthereumChain(e,t){const n={method:V.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:t})},i=(0,j.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,c)=>{this.relayEventManager.callbacks.set(i,d=>{if(d.errorMessage&&d.errorCode)return c(oo.ethErrors.provider.custom({code:d.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(d.errorMessage)return c(new Error(d.errorMessage));a(d)});const u=d=>{if(typeof d=="number"){const h=d;this.handleWeb3ResponseMessage((0,ne.Web3ResponseMessage)({id:i,response:(0,ce.ErrorResponse)(V.Web3Method.switchEthereumChain,Gn.WalletUIError.SwitchEthereumChainUnsupportedChainId.message,h)}))}else d instanceof Gn.WalletUIError?this.handleErrorResponse(i,V.Web3Method.switchEthereumChain,d,d.errorCode):this.handleWeb3ResponseMessage((0,ne.Web3ResponseMessage)({id:i,response:(0,ce.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},l=d=>{this.handleWeb3ResponseMessage((0,ne.Web3ResponseMessage)({id:i,response:(0,ce.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:d})}))};this.ui.switchEthereumChain({onCancel:u,onApprove:l,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return We.Session.hash(this._session.id)}sendRequestStandalone(e,t){const n=s=>{this.handleErrorResponse(e,t.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,ne.Web3ResponseMessage)({id:e,response:s}))};switch(t.method){case V.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:t,onSuccess:i,onCancel:n});break;case V.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:t,onSuccess:i,onCancel:n});break;case V.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:t,onSuccess:i,onCancel:n});break;case V.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:t,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}_e.accountRequestCallbackIds=new Set;sc([oc.default],_e.prototype,"resetAndReload",null);sc([oc.default],_e.prototype,"handleIncomingEvent",null);bn.WalletSDKRelay=_e;var En={};Object.defineProperty(En,"__esModule",{value:!0});En.WalletSDKRelayEventManager=void 0;const yv=_;class _v{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,t=(0,yv.prepend0x)(e.toString(16));return this.callbacks.get(t)&&this.callbacks.delete(t),e}}En.WalletSDKRelayEventManager=_v;const wv="@coinbase/wallet-sdk",Sv="3.5.3",Ev="Coinbase Wallet JavaScript SDK",xv=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],kv="dist/index.js",Cv="dist/index.d.ts",Mv="https://github.com/coinbase/coinbase-wallet-sdk.git",Iv="Coinbase, Inc.",Av="Apache-2.0",Tv={"pretest:unit":"node compile-assets.js","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html","test:karma":"yarn build-npm && karma start",prebuild:`node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ../../README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"lint:types":"tsc --noEmit","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:eslint":"eslint ./src --ext .ts,.tsx","fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",release:"./scripts/release.sh"},Rv={"@metamask/safe-event-emitter":"2.0.0","@solana/web3.js":"1.52.0","bind-decorator":"^1.0.11","bn.js":"^5.1.1",buffer:"^6.0.3",clsx:"^1.1.0","eth-block-tracker":"4.4.3","eth-json-rpc-filters":"4.2.2","eth-rpc-errors":"4.0.2","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","sha.js":"^2.4.11","stream-browserify":"^3.0.0",util:"^0.12.4"},Nv={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@types/sha.js":"^2.4.0","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2","jest-websocket-mock":"^2.3.0",karma:"^6.3.15","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.72.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},Ov={node:">= 10.0.0"};var Lv={name:wv,version:Sv,description:Ev,keywords:xv,main:kv,types:Cv,repository:Mv,author:Iv,license:Av,scripts:Tv,dependencies:Rv,devDependencies:Nv,engines:Ov};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.CoinbaseWalletSDK=void 0;const Dv=qr,Pv=Gr,jv=vt,Bv=cn,Fv=bn,Wv=En,$v=_,Hv={}.LINK_API_URL||"https://www.walletlink.org",ac={}.SDK_VERSION||Lv.version||"unknown";class xn{constructor(e){var t,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||Hv;let o;if(e.uiConstructor?o=e.uiConstructor:o=u=>new Bv.WalletSDKUI(u),typeof e.overrideIsMetaMask=="undefined"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(t=e.overrideIsCoinbaseWallet)!==null&&t!==void 0?t:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),c=`${a.protocol}//${a.host}`;this._storage=new Pv.ScopedLocalStorage(`-walletlink:${c}`),this._storage.setItem("version",xn.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new Wv.WalletSDKRelayEventManager,this._relay=new Fv.WalletSDKRelay({linkAPIUrl:s,version:ac,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",t=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,t),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new jv.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:t,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,t){var n;this._appName=e||"DApp",this._appLogoUrl=t||(0,$v.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const t=this.walletExtension;t?t.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,t;return(t=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&t!==void 0?t:null}getCoinbaseWalletLogo(e,t=240){return(0,Dv.walletLogo)(e,t)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,t;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(t=window.top)===null||t===void 0?void 0:t.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}Yt.CoinbaseWalletSDK=xn;xn.VERSION=ac;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.CoinbaseWalletProvider=r.CoinbaseWalletSDK=void 0;const e=Yt,t=vt;var n=Yt;Object.defineProperty(r,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=vt;Object.defineProperty(r,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),r.default=e.CoinbaseWalletSDK,typeof window!="undefined"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=t.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=t.CoinbaseWalletProvider)})(vi);var Uv=dc(vi),Qv=Ac({__proto__:null,default:Uv},[vi]);export{Qv as i};
